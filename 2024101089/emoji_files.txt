./frontend/build_error.log:âœ— Build failed in 501ms
./frontend/dist/assets/index-Ct7WmAIb.js:Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let T=en(),B;if(s){let _=typeof s=="string"?dl(s):s;Ye(x==="/"||_.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${_.pathname}" was given in the \`location\` prop.`),B=_}else B=T;let R=B.pathname||"/",D=R;if(x!=="/"){let _=x.replace(/^\//,"").split("/");D="/"+R.replace(/^\//,"").split("/").slice(_.length).join("/")}let C=jp(l,{pathname:D});Wt(v||C!=null,`No routes matched location "${B.pathname}${B.search}${B.hash}" `),Wt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${B.pathname}${B.search}${B.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=eb(C&&C.map(_=>Object.assign({},_,{params:Object.assign({},y,_.params),pathname:wa([x,f.encodeLocation?f.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?x:wa([x,f.encodeLocation?f.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),h,i,r,d);return s&&E?N.createElement(xs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...B},navigationType:"POP"}},E):E}function Fx(){let l=sb(),s=Bx(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),i=l instanceof Error?l.stack:null,r="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:r},f={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",l),h=N.createElement(N.Fragment,null,N.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:f},"ErrorBoundary")," or"," ",N.createElement("code",{style:f},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},s),i?N.createElement("pre",{style:d},i):null,h)}var Wx=N.createElement(Fx,null),Mp=class extends N.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,s){return s.location!==l.location||s.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:s.error,location:s.location,revalidation:l.revalidation||s.revalidation}}componentDidCatch(l,s){this.props.onError?this.props.onError(l,s):console.error("React Router caught the following error during render",l)}render(){let l=this.state.error;if(this.context&&typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){const i=Zx(l.digest);i&&(l=i)}let s=l!==void 0?N.createElement(It.Provider,{value:this.props.routeContext},N.createElement(bu.Provider,{value:l,children:this.props.component})):this.props.children;return this.context?N.createElement(Ix,{error:l},s):s}};Mp.contextType=Hx;var Zc=new WeakMap;function Ix({children:l,error:s}){let{basename:i}=N.useContext(Mt);if(typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){let r=Qx(s.digest);if(r){let d=Zc.get(s);if(d)throw d;let f=Tp(r.location,i);if(Ep&&!Zc.get(s))if(f.isExternal||r.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:r.replace}));throw Zc.set(s,h),h}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return l}function Px({routeContext:l,match:s,children:i}){let r=N.useContext(fl);return r&&r.static&&r.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=s.route.id),N.createElement(It.Provider,{value:l},i)}function eb(l,s=[],i=null,r=null,d=null){if(l==null){if(!i)return null;if(i.errors)l=i.matches;else if(s.length===0&&!i.initialized&&i.matches.length>0)l=i.matches;else return null}let f=l,h=i?.errors;if(h!=null){let x=f.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);Ye(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),f=f.slice(0,Math.min(f.length,x+1))}let g=!1,y=-1;if(i)for(let x=0;x<f.length;x++){let v=f[x];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(y=x),v.route.id){let{loaderData:T,errors:B}=i,R=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!B||B[v.route.id]===void 0);if(v.route.lazy||R){g=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}let p=i&&r?(x,v)=>{r(x,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Lx(i.matches),errorInfo:v})}:void 0;return f.reduceRight((x,v,T)=>{let B,R=!1,D=null,C=null;i&&(B=h&&v.route.id?h[v.route.id]:void 0,D=v.route.errorElement||Wx,g&&(y<0&&T===0?(kp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,C=null):y===T&&(R=!0,C=v.route.hydrateFallbackElement||null)));let E=s.concat(f.slice(0,T+1)),_=()=>{let z;return B?z=D:R?z=C:v.route.Component?z=N.createElement(v.route.Component,null):v.route.element?z=v.route.element:z=x,N.createElement(Px,{match:v,routeContext:{outlet:x,matches:E,isDataRoute:i!=null},children:z})};return i&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?N.createElement(Mp,{location:i.location,revalidation:i.revalidation,component:D,error:B,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:p}):_()},null)}function vu(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tb(l){let s=N.useContext(fl);return Ye(s,vu(l)),s}function ab(l){let s=N.useContext(rr);return Ye(s,vu(l)),s}function nb(l){let s=N.useContext(It);return Ye(s,vu(l)),s}function Nu(l){let s=nb(l),i=s.matches[s.matches.length-1];return Ye(i.route.id,`${l} can only be used on routes that contain a unique "id"`),i.route.id}function lb(){return Nu("useRouteId")}function sb(){let l=N.useContext(bu),s=ab("useRouteError"),i=Nu("useRouteError");return l!==void 0?l:s.errors?.[i]}function ib(){let{router:l}=tb("useNavigate"),s=Nu("useNavigate"),i=N.useRef(!1);return Dp(()=>{i.current=!0}),N.useCallback(async(d,f={})=>{Wt(i.current,Op),i.current&&(typeof d=="number"?await l.navigate(d):await l.navigate(d,{fromRouteId:s,...f}))},[l,s])}var Wm={};function kp(l,s,i){!s&&!Wm[l]&&(Wm[l]=!0,Wt(!1,i))}N.memo(rb);function rb({routes:l,future:s,state:i,onError:r}){return zp(l,void 0,i,r,s)}function Up({to:l,replace:s,state:i,relative:r}){Ye(hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=N.useContext(Mt);Wt(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=N.useContext(It),{pathname:h}=en(),g=ht(),y=xu(l,yu(f),h,r==="path"),p=JSON.stringify(y);return N.useEffect(()=>{g(JSON.parse(p),{replace:s,state:i,relative:r})},[g,p,r,s,i]),null}function Ke(l){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ob({basename:l="/",children:s=null,location:i,navigationType:r="POP",navigator:d,static:f=!1,unstable_useTransitions:h}){Ye(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=l.replace(/^\/*/,"/"),y=N.useMemo(()=>({basename:g,navigator:d,static:f,unstable_useTransitions:h,future:{}}),[g,d,f,h]);typeof i=="string"&&(i=dl(i));let{pathname:p="/",search:x="",hash:v="",state:T=null,key:B="default"}=i,R=N.useMemo(()=>{let D=_a(p,g);return D==null?null:{location:{pathname:D,search:x,hash:v,state:T,key:B},navigationType:r}},[g,p,x,v,T,B,r]);return Wt(R!=null,`<Router basename="${g}"> is not able to match the URL "${p}${x}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:N.createElement(Mt.Provider,{value:y},N.createElement(xs.Provider,{children:s,value:R}))}function cb({children:l,location:s}){return Jx(tu(l),s)}function tu(l,s=[]){let i=[];return N.Children.forEach(l,(r,d)=>{if(!N.isValidElement(r))return;let f=[...s,d];if(r.type===N.Fragment){i.push.apply(i,tu(r.props.children,f));return}Ye(r.type===Ke,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ye(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||f.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=tu(r.props.children,f)),i.push(h)}),i}var Wi="get",Ii="application/x-www-form-urlencoded";function cr(l){return typeof HTMLElement<"u"&&l instanceof HTMLElement}function ub(l){return cr(l)&&l.tagName.toLowerCase()==="button"}function db(l){return cr(l)&&l.tagName.toLowerCase()==="form"}function fb(l){return cr(l)&&l.tagName.toLowerCase()==="input"}function hb(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function mb(l,s){return l.button===0&&(!s||s==="_self")&&!hb(l)}var Qi=null;function pb(){if(Qi===null)try{new FormData(document.createElement("form"),0),Qi=!1}catch{Qi=!0}return Qi}var gb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $c(l){return l!=null&&!gb.has(l)?(Wt(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ii}"`),null):l}function yb(l,s){let i,r,d,f,h;if(db(l)){let g=l.getAttribute("action");r=g?_a(g,s):null,i=l.getAttribute("method")||Wi,d=$c(l.getAttribute("enctype"))||Ii,f=new FormData(l)}else if(ub(l)||fb(l)&&(l.type==="submit"||l.type==="image")){let g=l.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=l.getAttribute("formaction")||g.getAttribute("action");if(r=y?_a(y,s):null,i=l.getAttribute("formmethod")||g.getAttribute("method")||Wi,d=$c(l.getAttribute("formenctype"))||$c(g.getAttribute("enctype"))||Ii,f=new FormData(g,l),!pb()){let{name:p,type:x,value:v}=l;if(x==="image"){let T=p?`${p}.`:"";f.append(`${T}x`,"0"),f.append(`${T}y`,"0")}else p&&f.append(p,v)}}else{if(cr(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Wi,r=null,d=Ii,h=l}return f&&d==="text/plain"&&(h=f,f=void 0),{action:r,method:i.toLowerCase(),encType:d,formData:f,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Su(l,s){if(l===!1||l===null||typeof l>"u")throw new Error(s)}function xb(l,s,i,r){let d=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return i?d.pathname.endsWith("/")?d.pathname=`${d.pathname}_.${r}`:d.pathname=`${d.pathname}.${r}`:d.pathname==="/"?d.pathname=`_root.${r}`:s&&_a(d.pathname,s)==="/"?d.pathname=`${s.replace(/\/$/,"")}/_root.${r}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${r}`,d}async function bb(l,s){if(l.id in s)return s[l.id];try{let i=await import(l.module);return s[l.id]=i,i}catch(i){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vb(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function Nb(l,s,i){let r=await Promise.all(l.map(async d=>{let f=s.routes[d.route.id];if(f){let h=await bb(f,i);return h.links?h.links():[]}return[]}));return _b(r.flat(1).filter(vb).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function Im(l,s,i,r,d,f){let h=(y,p)=>i[p]?y.route.id!==i[p].route.id:!0,g=(y,p)=>i[p].pathname!==y.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==y.params["*"];return f==="assets"?s.filter((y,p)=>h(y,p)||g(y,p)):f==="data"?s.filter((y,p)=>{let x=r.routes[y.route.id];if(!x||!x.hasLoader)return!1;if(h(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let v=y.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Sb(l,s,{includeHydrateFallback:i}={}){return jb(l.map(r=>{let d=s.routes[r.route.id];if(!d)return[];let f=[d.module];return d.clientActionModule&&(f=f.concat(d.clientActionModule)),d.clientLoaderModule&&(f=f.concat(d.clientLoaderModule)),i&&d.hydrateFallbackModule&&(f=f.concat(d.hydrateFallbackModule)),d.imports&&(f=f.concat(d.imports)),f}).flat(1))}function jb(l){return[...new Set(l)]}function wb(l){let s={},i=Object.keys(l).sort();for(let r of i)s[r]=l[r];return s}function _b(l,s){let i=new Set;return new Set(s),l.reduce((r,d)=>{let f=JSON.stringify(wb(d));return i.has(f)||(i.add(f),r.push({key:f,link:d})),r},[])}function Bp(){let l=N.useContext(fl);return Su(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function Eb(){let l=N.useContext(rr);return Su(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var ju=N.createContext(void 0);ju.displayName="FrameworkContext";function Lp(){let l=N.useContext(ju);return Su(l,"You must render this element inside a <HydratedRouter> element"),l}function Tb(l,s){let i=N.useContext(ju),[r,d]=N.useState(!1),[f,h]=N.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:x,onTouchStart:v}=s,T=N.useRef(null);N.useEffect(()=>{if(l==="render"&&h(!0),l==="viewport"){let D=E=>{E.forEach(_=>{h(_.isIntersecting)})},C=new IntersectionObserver(D,{threshold:.5});return T.current&&C.observe(T.current),()=>{C.disconnect()}}},[l]),N.useEffect(()=>{if(r){let D=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(D)}}},[r]);let B=()=>{d(!0)},R=()=>{d(!1),h(!1)};return i?l!=="intent"?[f,T,{}]:[f,T,{onFocus:ds(g,B),onBlur:ds(y,R),onMouseEnter:ds(p,B),onMouseLeave:ds(x,R),onTouchStart:ds(v,B)}]:[!1,T,{}]}function ds(l,s){return i=>{l&&l(i),i.defaultPrevented||s(i)}}function Cb({page:l,...s}){let{router:i}=Bp(),r=N.useMemo(()=>jp(i.routes,l,i.basename),[i.routes,l,i.basename]);return r?N.createElement(Ab,{page:l,matches:r,...s}):null}function Rb(l){let{manifest:s,routeModules:i}=Lp(),[r,d]=N.useState([]);return N.useEffect(()=>{let f=!1;return Nb(l,s,i).then(h=>{f||d(h)}),()=>{f=!0}},[l,s,i]),r}function Ab({page:l,matches:s,...i}){let r=en(),{future:d,manifest:f,routeModules:h}=Lp(),{basename:g}=Bp(),{loaderData:y,matches:p}=Eb(),x=N.useMemo(()=>Im(l,s,p,f,r,"data"),[l,s,p,f,r]),v=N.useMemo(()=>Im(l,s,p,f,r,"assets"),[l,s,p,f,r]),T=N.useMemo(()=>{if(l===r.pathname+r.search+r.hash)return[];let D=new Set,C=!1;if(s.forEach(_=>{let z=f.routes[_.route.id];!z||!z.hasLoader||(!x.some(V=>V.route.id===_.route.id)&&_.route.id in y&&h[_.route.id]?.shouldRevalidate||z.hasClientLoader?C=!0:D.add(_.route.id))}),D.size===0)return[];let E=xb(l,g,d.unstable_trailingSlashAwareDataRequests,"data");return C&&D.size>0&&E.searchParams.set("_routes",s.filter(_=>D.has(_.route.id)).map(_=>_.route.id).join(",")),[E.pathname+E.search]},[g,d.unstable_trailingSlashAwareDataRequests,y,r,f,x,s,l,h]),B=N.useMemo(()=>Sb(v,f),[v,f]),R=Rb(v);return N.createElement(N.Fragment,null,T.map(D=>N.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...i})),B.map(D=>N.createElement("link",{key:D,rel:"modulepreload",href:D,...i})),R.map(({key:D,link:C})=>N.createElement("link",{key:D,nonce:i.nonce,...C,crossOrigin:C.crossOrigin??i.crossOrigin})))}function Ob(...l){return s=>{l.forEach(i=>{typeof i=="function"?i(s):i!=null&&(i.current=s)})}}var Db=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Db&&(window.__reactRouterVersion="7.13.0")}catch{}function zb({basename:l,children:s,unstable_useTransitions:i,window:r}){let d=N.useRef();d.current==null&&(d.current=hx({window:r,v5Compat:!0}));let f=d.current,[h,g]=N.useState({action:f.action,location:f.location}),y=N.useCallback(p=>{i===!1?g(p):N.startTransition(()=>g(p))},[i]);return N.useLayoutEffect(()=>f.listen(y),[f,y]),N.createElement(ob,{basename:l,children:s,location:h.location,navigationType:h.action,navigator:f,unstable_useTransitions:i})}var qp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=N.forwardRef(function({onClick:s,discover:i="render",prefetch:r="none",relative:d,reloadDocument:f,replace:h,state:g,target:y,to:p,preventScrollReset:x,viewTransition:v,unstable_defaultShouldRevalidate:T,...B},R){let{basename:D,unstable_useTransitions:C}=N.useContext(Mt),E=typeof p=="string"&&qp.test(p),_=Tp(p,D);p=_.to;let z=$x(p,{relative:d}),[V,A,H]=Tb(r,B),L=Bb(p,{replace:h,state:g,target:y,preventScrollReset:x,relative:d,viewTransition:v,unstable_defaultShouldRevalidate:T,unstable_useTransitions:C});function J($){s&&s($),$.defaultPrevented||L($)}let ae=N.createElement("a",{...B,...H,href:_.absoluteURL||z,onClick:_.isExternal||f?s:J,ref:Ob(R,A),target:y,"data-discover":!E&&i==="render"?"true":void 0});return V&&!E?N.createElement(N.Fragment,null,ae,N.createElement(Cb,{page:z})):ae});Le.displayName="Link";var Mb=N.forwardRef(function({"aria-current":s="page",caseSensitive:i=!1,className:r="",end:d=!1,style:f,to:h,viewTransition:g,children:y,...p},x){let v=bs(h,{relative:p.relative}),T=en(),B=N.useContext(rr),{navigator:R,basename:D}=N.useContext(Mt),C=B!=null&&Xb(v)&&g===!0,E=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,_=T.pathname,z=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;i||(_=_.toLowerCase(),z=z?z.toLowerCase():null,E=E.toLowerCase()),z&&D&&(z=_a(z,D)||z);const V=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let A=_===E||!d&&_.startsWith(E)&&_.charAt(V)==="/",H=z!=null&&(z===E||!d&&z.startsWith(E)&&z.charAt(E.length)==="/"),L={isActive:A,isPending:H,isTransitioning:C},J=A?s:void 0,ae;typeof r=="function"?ae=r(L):ae=[r,A?"active":null,H?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let $=typeof f=="function"?f(L):f;return N.createElement(Le,{...p,"aria-current":J,className:ae,ref:x,style:$,to:h,viewTransition:g},typeof y=="function"?y(L):y)});Mb.displayName="NavLink";var kb=N.forwardRef(({discover:l="render",fetcherKey:s,navigate:i,reloadDocument:r,replace:d,state:f,method:h=Wi,action:g,onSubmit:y,relative:p,preventScrollReset:x,viewTransition:v,unstable_defaultShouldRevalidate:T,...B},R)=>{let{unstable_useTransitions:D}=N.useContext(Mt),C=Hb(),E=Yb(g,{relative:p}),_=h.toLowerCase()==="get"?"get":"post",z=typeof g=="string"&&qp.test(g),V=A=>{if(y&&y(A),A.defaultPrevented)return;A.preventDefault();let H=A.nativeEvent.submitter,L=H?.getAttribute("formmethod")||h,J=()=>C(H||A.currentTarget,{fetcherKey:s,method:L,navigate:i,replace:d,state:f,relative:p,preventScrollReset:x,viewTransition:v,unstable_defaultShouldRevalidate:T});D&&i!==!1?N.startTransition(()=>J()):J()};return N.createElement("form",{ref:R,method:_,action:E,onSubmit:r?y:V,...B,"data-discover":!z&&l==="render"?"true":void 0})});kb.displayName="Form";function Ub(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hp(l){let s=N.useContext(fl);return Ye(s,Ub(l)),s}function Bb(l,{target:s,replace:i,state:r,preventScrollReset:d,relative:f,viewTransition:h,unstable_defaultShouldRevalidate:g,unstable_useTransitions:y}={}){let p=ht(),x=en(),v=bs(l,{relative:f});return N.useCallback(T=>{if(mb(T,s)){T.preventDefault();let B=i!==void 0?i:gs(x)===gs(v),R=()=>p(l,{replace:B,state:r,preventScrollReset:d,relative:f,viewTransition:h,unstable_defaultShouldRevalidate:g});y?N.startTransition(()=>R()):R()}},[x,p,v,i,r,s,l,d,f,h,g,y])}var Lb=0,qb=()=>`__${String(++Lb)}__`;function Hb(){let{router:l}=Hp("useSubmit"),{basename:s}=N.useContext(Mt),i=lb(),r=l.fetch,d=l.navigate;return N.useCallback(async(f,h={})=>{let{action:g,method:y,encType:p,formData:x,body:v}=yb(f,s);if(h.navigate===!1){let T=h.fetcherKey||qb();await r(T,i,h.action||g,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:v,formMethod:h.method||y,formEncType:h.encType||p,flushSync:h.flushSync})}else await d(h.action||g,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:v,formMethod:h.method||y,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:i,flushSync:h.flushSync,viewTransition:h.viewTransition})},[r,d,s,i])}function Yb(l,{relative:s}={}){let{basename:i}=N.useContext(Mt),r=N.useContext(It);Ye(r,"useFormAction must be used inside a RouteContext");let[d]=r.matches.slice(-1),f={...bs(l||".",{relative:s})},h=en();if(l==null){f.search=h.search;let g=new URLSearchParams(f.search),y=g.getAll("index");if(y.some(x=>x==="")){g.delete("index"),y.filter(v=>v).forEach(v=>g.append("index",v));let x=g.toString();f.search=x?`?${x}`:""}}return(!l||l===".")&&d.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(f.pathname=f.pathname==="/"?i:wa([i,f.pathname])),gs(f)}function Xb(l,{relative:s}={}){let i=N.useContext(Rp);Ye(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Hp("useViewTransitionState"),d=bs(l,{relative:s});if(!i.isTransitioning)return!1;let f=_a(i.currentLocation.pathname,r)||i.currentLocation.pathname,h=_a(i.nextLocation.pathname,r)||i.nextLocation.pathname;return sr(d.pathname,h)!=null||sr(d.pathname,f)!=null}function Yp(l,s){return function(){return l.apply(s,arguments)}}const{toString:Vb}=Object.prototype,{getPrototypeOf:wu}=Object,{iterator:ur,toStringTag:Xp}=Symbol,dr=(l=>s=>{const i=Vb.call(s);return l[i]||(l[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Pt=l=>(l=l.toLowerCase(),s=>dr(s)===l),fr=l=>s=>typeof s===l,{isArray:ml}=Array,ul=fr("undefined");function vs(l){return l!==null&&!ul(l)&&l.constructor!==null&&!ul(l.constructor)&&Nt(l.constructor.isBuffer)&&l.constructor.isBuffer(l)}const Vp=Pt("ArrayBuffer");function Gb(l){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(l):s=l&&l.buffer&&Vp(l.buffer),s}const Qb=fr("string"),Nt=fr("function"),Gp=fr("number"),Ns=l=>l!==null&&typeof l=="object",Zb=l=>l===!0||l===!1,Pi=l=>{if(dr(l)!=="object")return!1;const s=wu(l);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Xp in l)&&!(ur in l)},$b=l=>{if(!Ns(l)||vs(l))return!1;try{return Object.keys(l).length===0&&Object.getPrototypeOf(l)===Object.prototype}catch{return!1}},Kb=Pt("Date"),Jb=Pt("File"),Fb=Pt("Blob"),Wb=Pt("FileList"),Ib=l=>Ns(l)&&Nt(l.pipe),Pb=l=>{let s;return l&&(typeof FormData=="function"&&l instanceof FormData||Nt(l.append)&&((s=dr(l))==="formdata"||s==="object"&&Nt(l.toString)&&l.toString()==="[object FormData]"))},ev=Pt("URLSearchParams"),[tv,av,nv,lv]=["ReadableStream","Request","Response","Headers"].map(Pt),sv=l=>l.trim?l.trim():l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ss(l,s,{allOwnKeys:i=!1}={}){if(l===null||typeof l>"u")return;let r,d;if(typeof l!="object"&&(l=[l]),ml(l))for(r=0,d=l.length;r<d;r++)s.call(null,l[r],r,l);else{if(vs(l))return;const f=i?Object.getOwnPropertyNames(l):Object.keys(l),h=f.length;let g;for(r=0;r<h;r++)g=f[r],s.call(null,l[g],g,l)}}function Qp(l,s){if(vs(l))return null;s=s.toLowerCase();const i=Object.keys(l);let r=i.length,d;for(;r-- >0;)if(d=i[r],s===d.toLowerCase())return d;return null}const Nn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zp=l=>!ul(l)&&l!==Nn;function au(){const{caseless:l,skipUndefined:s}=Zp(this)&&this||{},i={},r=(d,f)=>{if(f==="__proto__"||f==="constructor"||f==="prototype")return;const h=l&&Qp(i,f)||f;Pi(i[h])&&Pi(d)?i[h]=au(i[h],d):Pi(d)?i[h]=au({},d):ml(d)?i[h]=d.slice():(!s||!ul(d))&&(i[h]=d)};for(let d=0,f=arguments.length;d<f;d++)arguments[d]&&Ss(arguments[d],r);return i}const iv=(l,s,i,{allOwnKeys:r}={})=>(Ss(s,(d,f)=>{i&&Nt(d)?Object.defineProperty(l,f,{value:Yp(d,i),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(l,f,{value:d,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),l),rv=l=>(l.charCodeAt(0)===65279&&(l=l.slice(1)),l),ov=(l,s,i,r)=>{l.prototype=Object.create(s.prototype,r),Object.defineProperty(l.prototype,"constructor",{value:l,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(l,"super",{value:s.prototype}),i&&Object.assign(l.prototype,i)},cv=(l,s,i,r)=>{let d,f,h;const g={};if(s=s||{},l==null)return s;do{for(d=Object.getOwnPropertyNames(l),f=d.length;f-- >0;)h=d[f],(!r||r(h,l,s))&&!g[h]&&(s[h]=l[h],g[h]=!0);l=i!==!1&&wu(l)}while(l&&(!i||i(l,s))&&l!==Object.prototype);return s},uv=(l,s,i)=>{l=String(l),(i===void 0||i>l.length)&&(i=l.length),i-=s.length;const r=l.indexOf(s,i);return r!==-1&&r===i},dv=l=>{if(!l)return null;if(ml(l))return l;let s=l.length;if(!Gp(s))return null;const i=new Array(s);for(;s-- >0;)i[s]=l[s];return i},fv=(l=>s=>l&&s instanceof l)(typeof Uint8Array<"u"&&wu(Uint8Array)),hv=(l,s)=>{const r=(l&&l[ur]).call(l);let d;for(;(d=r.next())&&!d.done;){const f=d.value;s.call(l,f[0],f[1])}},mv=(l,s)=>{let i;const r=[];for(;(i=l.exec(s))!==null;)r.push(i);return r},pv=Pt("HTMLFormElement"),gv=l=>l.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,r,d){return r.toUpperCase()+d}),Pm=(({hasOwnProperty:l})=>(s,i)=>l.call(s,i))(Object.prototype),yv=Pt("RegExp"),$p=(l,s)=>{const i=Object.getOwnPropertyDescriptors(l),r={};Ss(i,(d,f)=>{let h;(h=s(d,f,l))!==!1&&(r[f]=h||d)}),Object.defineProperties(l,r)},xv=l=>{$p(l,(s,i)=>{if(Nt(l)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const r=l[i];if(Nt(r)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},bv=(l,s)=>{const i={},r=d=>{d.forEach(f=>{i[f]=!0})};return ml(l)?r(l):r(String(l).split(s)),i},vv=()=>{},Nv=(l,s)=>l!=null&&Number.isFinite(l=+l)?l:s;function Sv(l){return!!(l&&Nt(l.append)&&l[Xp]==="FormData"&&l[ur])}const jv=l=>{const s=new Array(10),i=(r,d)=>{if(Ns(r)){if(s.indexOf(r)>=0)return;if(vs(r))return r;if(!("toJSON"in r)){s[d]=r;const f=ml(r)?[]:{};return Ss(r,(h,g)=>{const y=i(h,d+1);!ul(y)&&(f[g]=y)}),s[d]=void 0,f}}return r};return i(l,0)},wv=Pt("AsyncFunction"),_v=l=>l&&(Ns(l)||Nt(l))&&Nt(l.then)&&Nt(l.catch),Kp=((l,s)=>l?setImmediate:s?((i,r)=>(Nn.addEventListener("message",({source:d,data:f})=>{d===Nn&&f===i&&r.length&&r.shift()()},!1),d=>{r.push(d),Nn.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Nt(Nn.postMessage)),Ev=typeof queueMicrotask<"u"?queueMicrotask.bind(Nn):typeof process<"u"&&process.nextTick||Kp,Tv=l=>l!=null&&Nt(l[ur]),q={isArray:ml,isArrayBuffer:Vp,isBuffer:vs,isFormData:Pb,isArrayBufferView:Gb,isString:Qb,isNumber:Gp,isBoolean:Zb,isObject:Ns,isPlainObject:Pi,isEmptyObject:$b,isReadableStream:tv,isRequest:av,isResponse:nv,isHeaders:lv,isUndefined:ul,isDate:Kb,isFile:Jb,isBlob:Fb,isRegExp:yv,isFunction:Nt,isStream:Ib,isURLSearchParams:ev,isTypedArray:fv,isFileList:Wb,forEach:Ss,merge:au,extend:iv,trim:sv,stripBOM:rv,inherits:ov,toFlatObject:cv,kindOf:dr,kindOfTest:Pt,endsWith:uv,toArray:dv,forEachEntry:hv,matchAll:mv,isHTMLForm:pv,hasOwnProperty:Pm,hasOwnProp:Pm,reduceDescriptors:$p,freezeMethods:xv,toObjectSet:bv,toCamelCase:gv,noop:vv,toFiniteNumber:Nv,findKey:Qp,global:Nn,isContextDefined:Zp,isSpecCompliantForm:Sv,toJSONObject:jv,isAsyncFn:wv,isThenable:_v,setImmediate:Kp,asap:Ev,isIterable:Tv};let oe=class Jp extends Error{static from(s,i,r,d,f,h){const g=new Jp(s.message,i||s.code,r,d,f);return g.cause=s,g.name=s.name,h&&Object.assign(g,h),g}constructor(s,i,r,d,f){super(s),this.name="AxiosError",this.isAxiosError=!0,i&&(this.code=i),r&&(this.config=r),d&&(this.request=d),f&&(this.response=f,this.status=f.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}};oe.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";oe.ERR_BAD_OPTION="ERR_BAD_OPTION";oe.ECONNABORTED="ECONNABORTED";oe.ETIMEDOUT="ETIMEDOUT";oe.ERR_NETWORK="ERR_NETWORK";oe.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";oe.ERR_DEPRECATED="ERR_DEPRECATED";oe.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";oe.ERR_BAD_REQUEST="ERR_BAD_REQUEST";oe.ERR_CANCELED="ERR_CANCELED";oe.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";oe.ERR_INVALID_URL="ERR_INVALID_URL";const Cv=null;function nu(l){return q.isPlainObject(l)||q.isArray(l)}function Fp(l){return q.endsWith(l,"[]")?l.slice(0,-2):l}function ep(l,s,i){return l?l.concat(s).map(function(d,f){return d=Fp(d),!i&&f?"["+d+"]":d}).join(i?".":""):s}function Rv(l){return q.isArray(l)&&!l.some(nu)}const Av=q.toFlatObject(q,{},null,function(s){return/^is[A-Z]/.test(s)});function hr(l,s,i){if(!q.isObject(l))throw new TypeError("target must be an object");s=s||new FormData,i=q.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,C){return!q.isUndefined(C[D])});const r=i.metaTokens,d=i.visitor||x,f=i.dots,h=i.indexes,y=(i.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(s);if(!q.isFunction(d))throw new TypeError("visitor must be a function");function p(R){if(R===null)return"";if(q.isDate(R))return R.toISOString();if(q.isBoolean(R))return R.toString();if(!y&&q.isBlob(R))throw new oe("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(R)||q.isTypedArray(R)?y&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function x(R,D,C){let E=R;if(R&&!C&&typeof R=="object"){if(q.endsWith(D,"{}"))D=r?D:D.slice(0,-2),R=JSON.stringify(R);else if(q.isArray(R)&&Rv(R)||(q.isFileList(R)||q.endsWith(D,"[]"))&&(E=q.toArray(R)))return D=Fp(D),E.forEach(function(z,V){!(q.isUndefined(z)||z===null)&&s.append(h===!0?ep([D],V,f):h===null?D:D+"[]",p(z))}),!1}return nu(R)?!0:(s.append(ep(C,D,f),p(R)),!1)}const v=[],T=Object.assign(Av,{defaultVisitor:x,convertValue:p,isVisitable:nu});function B(R,D){if(!q.isUndefined(R)){if(v.indexOf(R)!==-1)throw Error("Circular reference detected in "+D.join("."));v.push(R),q.forEach(R,function(E,_){(!(q.isUndefined(E)||E===null)&&d.call(s,E,q.isString(_)?_.trim():_,D,T))===!0&&B(E,D?D.concat(_):[_])}),v.pop()}}if(!q.isObject(l))throw new TypeError("data must be an object");return B(l),s}function tp(l){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'()~]|%20|%00/g,function(r){return s[r]})}function _u(l,s){this._pairs=[],l&&hr(l,this,s)}const Wp=_u.prototype;Wp.append=function(s,i){this._pairs.push([s,i])};Wp.toString=function(s){const i=s?function(r){return s.call(this,r,tp)}:tp;return this._pairs.map(function(d){return i(d[0])+"="+i(d[1])},"").join("&")};function Ov(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ip(l,s,i){if(!s)return l;const r=i&&i.encode||Ov,d=q.isFunction(i)?{serialize:i}:i,f=d&&d.serialize;let h;if(f?h=f(s,d):h=q.isURLSearchParams(s)?s.toString():new _u(s,d).toString(r),h){const g=l.indexOf("#");g!==-1&&(l=l.slice(0,g)),l+=(l.indexOf("?")===-1?"?":"&")+h}return l}class ap{constructor(){this.handlers=[]}use(s,i,r){return this.handlers.push({fulfilled:s,rejected:i,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){q.forEach(this.handlers,function(r){r!==null&&s(r)})}}const Eu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},Dv=typeof URLSearchParams<"u"?URLSearchParams:_u,zv=typeof FormData<"u"?FormData:null,Mv=typeof Blob<"u"?Blob:null,kv={isBrowser:!0,classes:{URLSearchParams:Dv,FormData:zv,Blob:Mv},protocols:["http","https","file","blob","url","data"]},Tu=typeof window<"u"&&typeof document<"u",lu=typeof navigator=="object"&&navigator||void 0,Uv=Tu&&(!lu||["ReactNative","NativeScript","NS"].indexOf(lu.product)<0),Bv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Lv=Tu&&window.location.href||"http://localhost",qv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Tu,hasStandardBrowserEnv:Uv,hasStandardBrowserWebWorkerEnv:Bv,navigator:lu,origin:Lv},Symbol.toStringTag,{value:"Module"})),ct={...qv,...kv};function Hv(l,s){return hr(l,new ct.classes.URLSearchParams,{visitor:function(i,r,d,f){return ct.isNode&&q.isBuffer(i)?(this.append(r,i.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},...s})}function Yv(l){return q.matchAll(/\w+|\[(\w*)]/g,l).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Xv(l){const s={},i=Object.keys(l);let r;const d=i.length;let f;for(r=0;r<d;r++)f=i[r],s[f]=l[f];return s}function Pp(l){function s(i,r,d,f){let h=i[f++];if(h==="__proto__")return!0;const g=Number.isFinite(+h),y=f>=i.length;return h=!h&&q.isArray(d)?d.length:h,y?(q.hasOwnProp(d,h)?d[h]=[d[h],r]:d[h]=r,!g):((!d[h]||!q.isObject(d[h]))&&(d[h]=[]),s(i,r,d[h],f)&&q.isArray(d[h])&&(d[h]=Xv(d[h])),!g)}if(q.isFormData(l)&&q.isFunction(l.entries)){const i={};return q.forEachEntry(l,(r,d)=>{s(Yv(r),d,i,0)}),i}return null}function Vv(l,s,i){if(q.isString(l))try{return(s||JSON.parse)(l),q.trim(l)}catch(r){if(r.name!=="SyntaxError")throw r}return(i||JSON.stringify)(l)}const js={transitional:Eu,adapter:["xhr","http","fetch"],transformRequest:[function(s,i){const r=i.getContentType()||"",d=r.indexOf("application/json")>-1,f=q.isObject(s);if(f&&q.isHTMLForm(s)&&(s=new FormData(s)),q.isFormData(s))return d?JSON.stringify(Pp(s)):s;if(q.isArrayBuffer(s)||q.isBuffer(s)||q.isStream(s)||q.isFile(s)||q.isBlob(s)||q.isReadableStream(s))return s;if(q.isArrayBufferView(s))return s.buffer;if(q.isURLSearchParams(s))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let g;if(f){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Hv(s,this.formSerializer).toString();if((g=q.isFileList(s))||r.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return hr(g?{"files[]":s}:s,y&&new y,this.formSerializer)}}return f||d?(i.setContentType("application/json",!1),Vv(s)):s}],transformResponse:[function(s){const i=this.transitional||js.transitional,r=i&&i.forcedJSONParsing,d=this.responseType==="json";if(q.isResponse(s)||q.isReadableStream(s))return s;if(s&&q.isString(s)&&(r&&!this.responseType||d)){const h=!(i&&i.silentJSONParsing)&&d;try{return JSON.parse(s,this.parseReviver)}catch(g){if(h)throw g.name==="SyntaxError"?oe.from(g,oe.ERR_BAD_RESPONSE,this,null,this.response):g}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ct.classes.FormData,Blob:ct.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],l=>{js.headers[l]={}});const Gv=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qv=l=>{const s={};let i,r,d;return l&&l.split(`
./frontend/dist/assets/index-Ct7WmAIb.js:`+f):r.stack=f}catch{}}throw r}}_request(s,i){typeof s=="string"?(i=i||{},i.url=s):i=s||{},i=wn(this.defaults,i);const{transitional:r,paramsSerializer:d,headers:f}=i;r!==void 0&&tr.assertOptions(r,{silentJSONParsing:Qt.transitional(Qt.boolean),forcedJSONParsing:Qt.transitional(Qt.boolean),clarifyTimeoutError:Qt.transitional(Qt.boolean),legacyInterceptorReqResOrdering:Qt.transitional(Qt.boolean)},!1),d!=null&&(q.isFunction(d)?i.paramsSerializer={serialize:d}:tr.assertOptions(d,{encode:Qt.function,serialize:Qt.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),tr.assertOptions(i,{baseUrl:Qt.spelling("baseURL"),withXsrfToken:Qt.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let h=f&&q.merge(f.common,f[i.method]);f&&q.forEach(["delete","get","head","post","put","patch","common"],R=>{delete f[R]}),i.headers=St.concat(h,f);const g=[];let y=!0;this.interceptors.request.forEach(function(D){if(typeof D.runWhen=="function"&&D.runWhen(i)===!1)return;y=y&&D.synchronous;const C=i.transitional||Eu;C&&C.legacyInterceptorReqResOrdering?g.unshift(D.fulfilled,D.rejected):g.push(D.fulfilled,D.rejected)});const p=[];this.interceptors.response.forEach(function(D){p.push(D.fulfilled,D.rejected)});let x,v=0,T;if(!y){const R=[hp.bind(this),void 0];for(R.unshift(...g),R.push(...p),T=R.length,x=Promise.resolve(i);v<T;)x=x.then(R[v++],R[v++]);return x}T=g.length;let B=i;for(;v<T;){const R=g[v++],D=g[v++];try{B=R(B)}catch(C){D.call(this,C);break}}try{x=hp.call(this,B)}catch(R){return Promise.reject(R)}for(v=0,T=p.length;v<T;)x=x.then(p[v++],p[v++]);return x}getUri(s){s=wn(this.defaults,s);const i=ag(s.baseURL,s.url,s.allowAbsoluteUrls);return Ip(i,s.params,s.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(s){Sn.prototype[s]=function(i,r){return this.request(wn(r||{},{method:s,url:i,data:(r||{}).data}))}});q.forEach(["post","put","patch"],function(s){function i(r){return function(f,h,g){return this.request(wn(g||{},{method:s,headers:r?{"Content-Type":"multipart/form-data"}:{},url:f,data:h}))}}Sn.prototype[s]=i(),Sn.prototype[s+"Form"]=i(!0)});let p1=class rg{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(f){i=f});const r=this;this.promise.then(d=>{if(!r._listeners)return;let f=r._listeners.length;for(;f-- >0;)r._listeners[f](d);r._listeners=null}),this.promise.then=d=>{let f;const h=new Promise(g=>{r.subscribe(g),f=g}).then(d);return h.cancel=function(){r.unsubscribe(f)},h},s(function(f,h,g){r.reason||(r.reason=new ws(f,h,g),i(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const i=this._listeners.indexOf(s);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const s=new AbortController,i=r=>{s.abort(r)};return this.subscribe(i),s.signal.unsubscribe=()=>this.unsubscribe(i),s.signal}static source(){let s;return{token:new rg(function(d){s=d}),cancel:s}}};function g1(l){return function(i){return l.apply(null,i)}}function y1(l){return q.isObject(l)&&l.isAxiosError===!0}const su={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(su).forEach(([l,s])=>{su[s]=l});function og(l){const s=new Sn(l),i=Yp(Sn.prototype.request,s);return q.extend(i,Sn.prototype,s,{allOwnKeys:!0}),q.extend(i,s,null,{allOwnKeys:!0}),i.create=function(d){return og(wn(l,d))},i}const te=og(js);te.Axios=Sn;te.CanceledError=ws;te.CancelToken=p1;te.isCancel=eg;te.VERSION=ig;te.toFormData=hr;te.AxiosError=oe;te.Cancel=te.CanceledError;te.all=function(s){return Promise.all(s)};te.spread=g1;te.isAxiosError=y1;te.mergeConfig=wn;te.AxiosHeaders=St;te.formToJSON=l=>Pp(q.isHTMLForm(l)?new FormData(l):l);te.getAdapter=sg.getAdapter;te.HttpStatusCode=su;te.default=te;const{Axios:NS,AxiosError:SS,CanceledError:jS,isCancel:wS,CancelToken:_S,VERSION:ES,all:TS,Cancel:CS,isAxiosError:RS,spread:AS,toFormData:OS,AxiosHeaders:DS,HttpStatusCode:zS,formToJSON:MS,getAdapter:kS,mergeConfig:US}=te,de="http://localhost:5000/api",cg="http://localhost:5000",ug=N.createContext(),Ta=()=>N.useContext(ug),x1=({children:l})=>{const[s,i]=N.useState(null),[r,d]=N.useState(!0);N.useEffect(()=>{const p=JSON.parse(localStorage.getItem("userInfo"));p&&i(p),d(!1)},[]);const y={user:s,loading:r,login:async(p,x)=>{try{const v={headers:{"Content-Type":"application/json"}},{data:T}=await te.post(`${de}/auth/login`,{email:p,password:x},v);return console.log("Login success:",T),localStorage.setItem("user",JSON.stringify(T)),localStorage.setItem("userInfo",JSON.stringify(T)),localStorage.setItem("token",T.token),i(T),{success:!0,user:T}}catch(v){return console.error("Login error:",v.response?.data?.message||v.message),{success:!1,message:v.response&&v.response.data.message?v.response.data.message:v.message}}},register:async p=>{try{const x={headers:{"Content-Type":"application/json"}},{data:v}=await te.post(`${de}/auth/register`,p,x);return console.log("Register success:",v),localStorage.setItem("user",JSON.stringify(v)),localStorage.setItem("userInfo",JSON.stringify(v)),localStorage.setItem("token",v.token),i(v),{success:!0}}catch(x){return console.error("Registraion Error:",x.response?.data?.message||x.message),{success:!1,message:x.response&&x.response.data.message?x.response.data.message:x.message}}},logout:()=>{localStorage.removeItem("userInfo"),localStorage.removeItem("token"),i(null)},setUser:i};return o.jsx(ug.Provider,{value:y,children:!r&&l})},b1=()=>{const[l,s]=N.useState(""),[i,r]=N.useState(""),[d,f]=N.useState(""),{login:h}=Ta(),g=ht(),y=async p=>{p.preventDefault(),f("");const x=await h(l,i);x.success?x.user.role==="admin"?g("/admin/dashboard"):x.user.role==="organizer"?g("/organizer/dashboard"):g("/dashboard"):f(x.message)};return o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:o.jsxs("div",{className:"px-8 py-6 mt-4 text-left bg-white shadow-lg rounded-xl w-96",children:[o.jsx("h3",{className:"text-2xl font-bold text-center text-indigo-600",children:"Login to Felicity"}),d&&o.jsx("div",{className:"p-2 my-2 text-sm text-red-700 bg-red-100 rounded",children:d}),o.jsxs("form",{onSubmit:y,children:[o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block",htmlFor:"email",children:"Email"}),o.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-600",value:l,onChange:p=>s(p.target.value),required:!0})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block",children:"Password"}),o.jsx("input",{type:"password",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:i,onChange:p=>r(p.target.value)}),o.jsxs("div",{className:"flex justify-between mt-1",children:[o.jsx(Le,{to:"/forgot-password",className:"text-sm text-indigo-600 hover:underline",children:"Forgot Password?"}),o.jsx(Le,{to:"/reset-request",className:"text-sm text-gray-500 hover:underline",children:"Organizer Issue?"})]})]}),o.jsx("div",{className:"flex items-baseline justify-between",children:o.jsx("button",{className:"px-6 py-2 mt-4 text-white bg-indigo-600 rounded-lg hover:bg-indigo-900",children:"Login"})}),o.jsxs("div",{className:"mt-4 text-sm text-center",children:["Don't have an account? ",o.jsx(Le,{to:"/signup",className:"text-indigo-600 hover:underline",children:"Sign up"})]})]})]})})},v1=()=>{const[l,s]=N.useState({firstName:"",lastName:"",email:"",password:"",contactNumber:"",collegeName:""}),[i,r]=N.useState(""),{register:d}=Ta(),f=ht(),h=p=>{s({...l,[p.target.name]:p.target.value})},g=async p=>{if(p.preventDefault(),r(""),!l.email.endsWith("iiit.ac.in")){if(!l.collegeName){r("College name is required for Non-IIIT students");return}}const x=await d(l);x.success?f("/onboarding"):r(x.message)},y=l.email.endsWith("iiit.ac.in");return o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:o.jsxs("div",{className:"px-8 py-6 mt-4 text-left bg-white shadow-lg rounded-xl w-full max-w-md",children:[o.jsx("h3",{className:"text-2xl font-bold text-center text-indigo-600",children:"Join Felicity"}),i&&o.jsx("div",{className:"p-2 my-2 text-sm text-red-700 bg-red-100 rounded",children:i}),o.jsxs("form",{onSubmit:g,children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"mt-4 w-1/2",children:[o.jsx("label",{className:"block",children:"First Name"}),o.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-600",onChange:h,required:!0})]}),o.jsxs("div",{className:"mt-4 w-1/2",children:[o.jsx("label",{className:"block",children:"Last Name"}),o.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-600",onChange:h,required:!0})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block",children:"Email"}),o.jsx("input",{type:"email",name:"email",placeholder:"Email",className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-600",onChange:h,required:!0})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block",children:"Password"}),o.jsx("input",{type:"password",name:"password",placeholder:"Password",className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-600",onChange:h,required:!0})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block",children:"Contact Number"}),o.jsx("input",{type:"text",name:"contactNumber",placeholder:"Contact Number",className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-600",onChange:h,required:!0})]}),!y&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block",children:"College / Org Name"}),o.jsx("input",{type:"text",name:"collegeName",placeholder:"College Name",className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-600",onChange:h})]}),o.jsx("div",{className:"flex items-baseline justify-between",children:o.jsx("button",{className:"px-6 py-2 mt-4 text-white bg-indigo-600 rounded-lg hover:bg-indigo-900 w-full",children:"Sign Up"})}),o.jsxs("div",{className:"mt-4 text-sm text-center",children:["Already have an account? ",o.jsx(Le,{to:"/login",className:"text-indigo-600 hover:underline",children:"Login"})]})]})]})})},N1=()=>{const{user:l,logout:s}=Ta(),i=ht(),r=()=>{s(),i("/login")},d=l?.role==="admin",f=l?.role==="organizer";return o.jsxs("div",{className:"min-h-screen bg-gray-100",children:[o.jsx("nav",{className:"bg-white shadow",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16",children:[o.jsx("div",{className:"flex",children:o.jsx("div",{className:"flex-shrink-0 flex items-center",children:o.jsx("h1",{className:"text-xl font-bold text-indigo-600",children:"Felicity"})})}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs("span",{className:"text-gray-700 mr-4",children:["Hello, ",l?.name]}),o.jsx("button",{onClick:r,className:"text-red-600 hover:text-red-800",children:"Logout"})]})]})})}),o.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:o.jsx("div",{className:"px-4 py-6 sm:px-0",children:o.jsxs("div",{className:"border-4 border-dashed border-gray-200 rounded-lg h-96 flex flex-col items-center justify-center",children:[o.jsx("h2",{className:"text-2xl text-gray-400",children:"Welcome to your Dashboard!"}),d&&o.jsx("button",{onClick:()=>i("/admin/dashboard"),className:"mt-4 bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700",children:"Go to Admin Panel"}),!d&&!f&&o.jsxs("div",{className:"mt-8 bg-white p-6 rounded shadow text-center",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"For Students"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Le,{to:"/events",className:"block w-full bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:"Browse Events"}),o.jsx(Le,{to:"/my-registrations",className:"block w-full bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"My Registrations"})]})]})]})})})]})},S1=()=>{const[l,s]=N.useState([]),[i,r]=N.useState([]),[d,f]=N.useState("clubs"),[h,g]=N.useState(!0),{user:y,logout:p}=Ta(),x=ht(),[v,T]=N.useState({name:"",category:"Cultural",email:"",description:""}),[B,R]=N.useState("");N.useEffect(()=>{if(!y||y.role!=="admin"){x("/dashboard");return}D()},[y,x]);const D=async()=>{try{const H={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},{data:L}=await te.get(`${de}/admin/clubs`,H);s(L),g(!1)}catch(H){console.error("Error fetching clubs",H)}},C=async()=>{try{const L={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},{data:J}=await te.get(`${de}/admin/reset-requests`,L);r(J)}catch(H){console.error(H)}};N.useEffect(()=>{C()},[d]);const E=async(H,L)=>{try{const ae={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},{data:$}=await te.put(`${de}/admin/reset-request/${H}`,{status:L,adminComment:"Processed by Admin"},ae);L==="Approved"&&alert(`Request Approved! New Password: ${$.adminComment.split(": ")[1]}`),C()}catch(J){alert(J.response?.data?.message||"Action failed")}},_=async H=>{if(window.confirm("Are you sure? This will delete all events by this club too."))try{const L={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}};await te.delete(`${de}/admin/clubs/${H}`,L),D()}catch(L){alert(L.response.data.message)}},z=async H=>{H.preventDefault();try{const L={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}};await te.post(`${de}/admin/clubs`,v,L),R("Club added successfully! Password: password123"),T({name:"",category:"Cultural",email:"",description:""}),D()}catch(L){R("Error adding club: "+(L.response?.data?.message||L.message))}},V=()=>{p(),x("/login")},A=async()=>{if(window.confirm(`âš ï¸ DANGER: This will DELETE ALL DATA (Users, Events, Registrations) except your Admin account. 
./frontend/dist/assets/index-Ct7WmAIb.js:Are you sure?`)&&window.confirm("Double Check: This cannot be undone. Proceed?"))try{g(!0);const H={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}};await te.post(`${de}/admin/reset-database`,{},H),alert("Database has been reset successfully!"),window.location.reload()}catch(H){console.error("Reset failed",H),alert("Reset Failed: "+(H.response?.data?.message||H.message)),g(!1)}};return h?o.jsx("div",{className:"p-10 text-center",children:"Loading Admin Panel..."}):o.jsxs("div",{className:"min-h-screen bg-gray-100",children:[o.jsx("nav",{className:"bg-indigo-800 text-white shadow-lg",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16 items-center",children:[o.jsx("h1",{className:"text-xl font-bold",children:"Felicity Admin"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{children:"Welcome, Admin"}),o.jsx("button",{onClick:A,className:"bg-orange-500 hover:bg-orange-600 px-3 py-1 rounded text-sm font-bold border border-orange-700 shadow-sm",children:"âš  Reset DB"}),o.jsx("button",{onClick:V,className:"bg-red-500 hover:bg-red-600 px-3 py-1 rounded text-sm",children:"Logout"})]})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:o.jsxs("div",{className:"bg-white p-4 rounded shadow border-l-4 border-indigo-500",children:[o.jsx("h3",{className:"text-gray-500 text-sm",children:"Total Clubs"}),o.jsx("p",{className:"text-2xl font-bold",children:l.length})]})}),o.jsxs("div",{className:"mb-6 flex space-x-4 border-b",children:[o.jsx("button",{onClick:()=>f("clubs"),className:`pb-2 px-4 ${d==="clubs"?"border-b-2 border-indigo-600 font-bold text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"Manage Clubs"}),o.jsxs("button",{onClick:()=>f("requests"),className:`pb-2 px-4 ${d==="requests"?"border-b-2 border-indigo-600 font-bold text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:["Password Requests (",i.filter(H=>H.status==="Pending").length,")"]})]}),d==="clubs"?o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Add New Club"}),B&&o.jsx("div",{className:`p-2 mb-2 text-sm rounded ${B.includes("Error")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:B}),o.jsxs("form",{onSubmit:z,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm text-gray-600",children:"Club Name"}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",value:v.name,onChange:H=>T({...v,name:H.target.value})})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm text-gray-600",children:"Category"}),o.jsxs("select",{className:"w-full border p-2 rounded",value:v.category,onChange:H=>T({...v,category:H.target.value}),children:[o.jsx("option",{value:"Cultural",children:"Cultural"}),o.jsx("option",{value:"Technical",children:"Technical"}),o.jsx("option",{value:"Sports",children:"Sports"}),o.jsx("option",{value:"Other",children:"Other"})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm text-gray-600",children:"Contact Email"}),o.jsx("input",{type:"email",required:!0,className:"w-full border p-2 rounded",value:v.email,onChange:H=>T({...v,email:H.target.value})})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm text-gray-600",children:"Description"}),o.jsx("textarea",{className:"w-full border p-2 rounded",rows:"3",value:v.description,onChange:H=>T({...v,description:H.target.value})})]}),o.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700",children:"Create Club"})]})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Managed Clubs"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(H=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:H.name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
./frontend/dist/assets/index-Ct7WmAIb.js:                                                ${H.status==="Approved"?"bg-green-100 text-green-800":H.status==="Rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:H.status}),H.status==="Pending"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>E(H._id,"Approved"),className:"font-medium text-green-600 hover:text-green-500 border border-green-600 px-3 py-1 rounded",children:"Reset"}),o.jsx("button",{onClick:()=>E(H._id,"Rejected"),className:"font-medium text-red-600 hover:text-red-500 border border-red-600 px-3 py-1 rounded",children:"Reject"})]})]})]}),H.adminComment&&o.jsxs("p",{className:"mt-2 text-sm text-gray-500 bg-gray-50 p-2 rounded",children:[o.jsx("span",{className:"font-bold",children:"Admin Note:"})," ",H.adminComment]})]},H._id))]})})]})]})},j1=()=>{const[l,s]=N.useState([]),[i,r]=N.useState(!0),[d,f]=N.useState({open:!1,eventId:null,eventName:"",registrations:[]}),[h,g]=N.useState(!1),{user:y,logout:p}=Ta(),x=ht(),[v,T]=N.useState("Pending"),[B,R]=N.useState({open:!1,eventId:null,eventName:"",stats:null}),[D,C]=N.useState(!1),[E,_]=N.useState(null);N.useEffect(()=>{if(!y||y.role!=="organizer"){x("/dashboard");return}z()},[y,x]);const z=async()=>{try{const ee={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},{data:re}=await te.get(`${de}/events/my`,ee);s(re),r(!1)}catch($){console.error("Error fetching events",$),r(!1)}},V=async($,ee)=>{g(!0),f({open:!0,eventId:$,eventName:ee,registrations:[]}),T("Pending");try{const Ae={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},{data:ke}=await te.get(`${de}/registrations/event/${$}`,Ae);f({open:!0,eventId:$,eventName:ee,registrations:ke}),g(!1)}catch(re){console.error("Error fetching registrations",re),g(!1)}},A=async($,ee)=>{C(!0),R({open:!0,eventId:$,eventName:ee,stats:null}),_(null);try{const Ae={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},{data:ke}=await te.get(`${de}/feedback/event/${$}`,Ae);R({open:!0,eventId:$,eventName:ee,stats:ke}),C(!1)}catch(re){console.error("Error fetching feedback",re),C(!1)}},H=async($,ee)=>{try{const Ae={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}};await te.put(`${de}/registrations/${$}/status`,{status:ee},Ae);const ke=d.registrations.map(Xe=>Xe._id===$?{...Xe,status:ee}:Xe);f(Xe=>({...Xe,registrations:ke})),z()}catch(re){console.error("Error updating status",re),alert("Failed to update status")}},L=()=>{f({open:!1,eventId:null,eventName:"",registrations:[]})},J=()=>{p(),x("/login")},ae=()=>d.registrations.filter($=>$.status===v);return i?o.jsx("div",{className:"p-10 text-center",children:"Loading..."}):o.jsxs("div",{className:"min-h-screen bg-gray-100",children:[o.jsx("nav",{className:"bg-white shadow",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16 items-center",children:[o.jsx("div",{className:"flex items-center",children:o.jsx("h1",{className:"text-xl font-bold text-indigo-600",children:"Organizer Panel"})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("span",{className:"text-gray-700",children:["Club: ",y?.name]}),o.jsx("button",{onClick:J,className:"text-red-600 hover:text-red-800",children:"Logout"})]})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto py-10 px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Your Events"}),o.jsx(Le,{to:"/organizer/events/create",className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition",children:"+ Create New Event"})]}),l.length===0?o.jsx("div",{className:"bg-white p-10 rounded shadow text-center text-gray-500",children:"You have not created any events yet."}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map($=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow overflow-hidden border border-gray-100 flex flex-col",children:[o.jsxs("div",{className:"p-5 border-b border-gray-100",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h3",{className:"font-bold text-lg text-indigo-600 line-clamp-1",title:$.name,children:$.name}),o.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${$.status==="Published"?"bg-green-100 text-green-700":$.status==="Draft"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:$.status})]}),o.jsx("p",{className:"text-gray-400 text-xs font-medium",children:new Date($.startDate).toLocaleDateString()})]}),o.jsxs("div",{className:"p-5 flex-1",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Total"}),o.jsxs("span",{className:"font-semibold text-gray-700",children:[$.currentRegistrations," / ",$.registrationLimit>0?$.registrationLimit:"âˆž"]})]}),o.jsxs("div",{className:"w-full bg-gray-100 rounded-full h-2 mb-3 overflow-hidden flex",children:[o.jsx("div",{className:"bg-green-500 h-full",style:{width:`${$.stats?.confirmed/($.stats?.total||1)*100}%`}}),o.jsx("div",{className:"bg-yellow-400 h-full",style:{width:`${$.stats?.pending/($.stats?.total||1)*100}%`}}),o.jsx("div",{className:"bg-red-400 h-full",style:{width:`${$.stats?.rejected/($.stats?.total||1)*100}%`}})]}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400"}),o.jsxs("span",{children:["Pending: ",$.stats?.pending||0]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),o.jsxs("span",{children:["Confirmed: ",$.stats?.confirmed||0]})]})]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex justify-between items-center",children:[o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>V($._id,$.name),className:"text-indigo-600 text-sm font-semibold hover:text-indigo-800 transition-colors",children:"Registrations"}),o.jsx("button",{onClick:()=>A($._id,$.name),className:"text-yellow-600 text-sm font-semibold hover:text-yellow-800 transition-colors",children:"Feedback"})]}),o.jsx(Le,{to:`/organizer/events/edit/${$._id}`,className:"text-gray-500 text-sm hover:text-gray-900 transition-colors",children:"Edit"})]})]},$._id))})]}),d.open&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-5xl w-full max-h-[90vh] flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"bg-white px-6 py-4 border-b flex justify-between items-center sticky top-0 z-10",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Registrations"}),o.jsx("p",{className:"text-sm text-gray-500",children:d.eventName})]}),o.jsx("button",{onClick:L,className:"text-gray-400 hover:text-gray-600 text-2xl transition",children:"Ã—"})]}),o.jsx("div",{className:"flex border-b px-6",children:["Pending","Confirmed","Rejected"].map($=>o.jsxs("button",{onClick:()=>T($),className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors ${v===$?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[$,o.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${v===$?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-500"}`,children:d.registrations.filter(ee=>ee.status===$).length})]},$))}),o.jsx("div",{className:"p-6 overflow-y-auto flex-1 bg-gray-50",children:h?o.jsx("div",{className:"text-center py-10 text-gray-500",children:"Loading registrations..."}):ae().length===0?o.jsxs("div",{className:"text-center py-16 text-gray-400 flex flex-col items-center",children:[o.jsx("span",{className:"text-4xl mb-2",children:"ðŸ“­"}),o.jsxs("span",{children:["No ",v.toLowerCase()," registrations found."]})]}):o.jsx("div",{className:"space-y-3",children:ae().map($=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-all flex flex-col md:flex-row justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[o.jsxs("h4",{className:"font-bold text-gray-900 text-lg",children:[$.user?.firstName," ",$.user?.lastName]}),$.teamName&&o.jsxs("span",{className:"px-2 py-0.5 bg-blue-50 text-blue-600 text-xs rounded border border-blue-100 font-medium",children:["Team: ",$.teamName]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-1 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium text-gray-500 w-16 inline-block",children:"Email:"})," ",$.user?.email]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium text-gray-500 w-16 inline-block",children:"Phone:"})," ",$.user?.contactNumber||"N/A"]}),$.ticketId&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium text-gray-500 w-16 inline-block",children:"Ticket:"})," ",o.jsx("span",{className:"font-mono text-gray-800",children:$.ticketId})]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium text-gray-500 w-16 inline-block",children:"Date:"})," ",new Date($.createdAt).toLocaleDateString()]})]}),$.merchandiseSelection&&$.merchandiseSelection.length>0&&o.jsxs("div",{className:"mt-3 bg-indigo-50 p-3 rounded-lg border border-indigo-100",children:[o.jsx("p",{className:"text-xs font-semibold text-indigo-800 uppercase tracking-wide mb-1",children:"Merchandise"}),o.jsx("ul",{className:"text-sm text-indigo-900 list-disc list-inside",children:$.merchandiseSelection.map((ee,re)=>o.jsxs("li",{children:[ee.quantity,"x Item ",ee.itemId," ",ee.variant?`(${ee.variant})`:""]},re))})]}),$.paymentProof&&o.jsx("div",{className:"mt-3",children:o.jsx("a",{href:$.paymentProof.startsWith("http")?$.paymentProof:`https://${$.paymentProof}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-sm font-medium transition-colors",children:o.jsx("span",{children:"ðŸ“Ž View Payment Proof"})})})]}),o.jsxs("div",{className:"flex flex-row md:flex-col gap-2 justify-center min-w-[120px]",children:[$.status==="Pending"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>H($._id,"Confirmed"),className:"flex-1 px-4 py-2 bg-green-600 text-white text-sm font-semibold rounded hover:bg-green-700 shadow-sm transition-transform active:scale-95",children:"Approve"}),o.jsx("button",{onClick:()=>H($._id,"Rejected"),className:"flex-1 px-4 py-2 bg-white border border-gray-300 text-gray-700 text-sm font-semibold rounded hover:bg-gray-50 transition-colors",children:"Reject"})]}),$.status==="Confirmed"&&o.jsx("button",{onClick:()=>H($._id,"Rejected"),className:"px-4 py-2 text-red-600 text-sm hover:underline",children:"Revoke"}),$.status==="Rejected"&&o.jsx("button",{onClick:()=>H($._id,"Pending"),className:"px-4 py-2 text-gray-500 text-sm hover:underline",children:"Re-evaluate"})]})]},$._id))})})]})}),B.open&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"bg-indigo-600 px-6 py-4 flex justify-between items-center",children:[o.jsxs("h3",{className:"text-xl font-bold text-white",children:["Feedback: ",B.eventName]}),o.jsx("button",{onClick:()=>R({open:!1,eventId:null,eventName:"",stats:null}),className:"text-white hover:text-gray-200 text-2xl",children:"Ã—"})]}),o.jsx("div",{className:"p-6 overflow-y-auto bg-gray-50 flex-1",children:D?o.jsx("div",{className:"text-center py-10",children:"Loading feedback..."}):!B.stats||B.stats.comments.length===0?o.jsx("div",{className:"text-center py-10 text-gray-500",children:"No feedback received yet."}):o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[o.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[150px]",children:[o.jsx("span",{className:"text-5xl font-bold text-gray-800",children:B.stats.averageRating}),o.jsx("div",{className:"flex text-yellow-400 text-xl my-2",children:[...Array(5)].map(($,ee)=>o.jsx("span",{children:ee<Math.round(Number(B.stats.averageRating))?"â˜…":"â˜†"},ee))}),o.jsxs("span",{className:"text-sm text-gray-500",children:[B.stats.comments.length," Reviews"]})]}),o.jsx("div",{className:"flex-1 space-y-2",children:[5,4,3,2,1].map($=>{const ee=B.stats.ratingDistribution[$]||0,re=B.stats.comments.length,Ae=re>0?ee/re*100:0;return o.jsxs("div",{className:"flex items-center text-sm gap-2",children:[o.jsx("span",{className:"w-3",children:$}),o.jsx("span",{className:"text-yellow-400",children:"â˜…"}),o.jsx("div",{className:"flex-1 h-3 bg-gray-100 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-yellow-400",style:{width:`${Ae}%`}})}),o.jsx("span",{className:"w-8 text-right text-gray-500",children:ee})]},$)})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h4",{className:"font-bold text-gray-800",children:"Comments"}),o.jsxs("select",{className:"border rounded px-3 py-1 text-sm bg-white",onChange:$=>_(Number($.target.value)||null),children:[o.jsx("option",{value:"",children:"All Ratings"}),o.jsx("option",{value:"5",children:"5 Stars"}),o.jsx("option",{value:"4",children:"4 Stars"}),o.jsx("option",{value:"3",children:"3 Stars"}),o.jsx("option",{value:"2",children:"2 Stars"}),o.jsx("option",{value:"1",children:"1 Star"})]})]}),o.jsxs("div",{className:"space-y-4",children:[B.stats.comments.filter($=>E?$.rating===E:!0).map(($,ee)=>o.jsxs("div",{className:"bg-white p-4 rounded border border-gray-200 shadow-sm",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("div",{className:"flex text-yellow-500 text-sm",children:[...Array($.rating)].map((re,Ae)=>o.jsx("span",{children:"â˜…"},Ae))}),o.jsx("span",{className:"text-xs text-gray-400",children:new Date($.createdAt).toLocaleDateString()})]}),o.jsxs("p",{className:"text-gray-700 italic",children:['"',$.text,'"']})]},ee)),B.stats.comments.filter($=>E?$.rating===E:!0).length===0&&o.jsx("p",{className:"text-center text-gray-500 py-4",children:"No comments for this rating."})]})]})]})})]})})]})},dg=({formFields:l,setFormFields:s})=>{const i=h=>{s([...l,{label:`Question ${l.length+1}`,type:h,required:!1,options:[]}])},r=(h,g,y)=>{const p=[...l];p[h][g]=y,s(p)},d=h=>{const g=[...l];g.splice(h,1),s(g)},f=(h,g)=>{const y=[...l];y[h].options=g.split(",").map(p=>p.trim()),s(y)};return o.jsxs("div",{className:"border p-4 rounded bg-gray-50 mt-4 h-[100%]",children:[o.jsx("h3",{className:"font-semibold text-gray-700",children:"Custom Registration Form"}),o.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Add extra questions for participants."}),o.jsxs("div",{className:"flex space-x-2 mb-4",children:[o.jsx("button",{type:"button",onClick:()=>i("text"),className:"px-3 py-1 bg-white border rounded text-sm hover:bg-gray-100",children:"+ Text"}),o.jsx("button",{type:"button",onClick:()=>i("number"),className:"px-3 py-1 bg-white border rounded text-sm hover:bg-gray-100",children:"+ Number"}),o.jsx("button",{type:"button",onClick:()=>i("dropdown"),className:"px-3 py-1 bg-white border rounded text-sm hover:bg-gray-100",children:"+ Dropdown"})]}),l.map((h,g)=>o.jsxs("div",{className:"bg-white p-3 border rounded mb-2 relative group",children:[o.jsx("button",{type:"button",onClick:()=>d(g),className:"absolute top-2 right-2 text-red-400 hover:text-red-600 text-xs",children:"Remove"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500",children:"Label/Question"}),o.jsx("input",{type:"text",className:"w-full border px-2 py-1 text-sm rounded",value:h.label,onChange:y=>r(g,"label",y.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500",children:"Type"}),o.jsx("span",{className:"text-sm text-gray-700 bg-gray-100 px-2 py-1 rounded",children:h.type})]})]}),o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("input",{type:"checkbox",checked:h.required,onChange:y=>r(g,"required",y.target.checked),className:"mr-2"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Required?"})]}),h.type==="dropdown"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500",children:"Options (comma separated)"}),o.jsx("input",{type:"text",className:"w-full border px-2 py-1 text-sm rounded",placeholder:"Option 1, Option 2, Option 3",defaultValue:h.options.join(", "),onBlur:y=>f(g,y.target.value)})]})]},g))]})},fg=({merchandise:l,setMerchandise:s})=>{const i=()=>{s([...l,{name:"",price:0,stock:100,limitPerUser:1,image:"",description:"",variants:[]}])},r=p=>{s(l.filter((x,v)=>v!==p))},d=(p,x,v)=>{const T=[...l];T[p][x]=v,s(T)},f=p=>{const x=[...l];x[p].variants||(x[p].variants=[]),x[p].variants.push({type:"Size",options:[]}),s(x)},h=(p,x)=>{const v=[...l];v[p].variants=v[p].variants.filter((T,B)=>B!==x),s(v)},g=(p,x,v)=>{const T=[...l];T[p].variants[x].type=v,s(T)},y=(p,x,v)=>{const T=[...l],B=v.split(",").map(R=>R.trim());T[p].variants[x].options=B,s(T)};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Merchandise Items"}),l.map((p,x)=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-4 relative animate-fade-in",children:[o.jsx("button",{type:"button",onClick:()=>r(x),className:"absolute top-2 right-2 text-red-400 hover:text-red-600 font-bold p-1",title:"Remove Item",children:"Ã—"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Item Name"}),o.jsx("input",{type:"text",value:p.name,onChange:v=>d(x,"name",v.target.value),className:"w-full border-gray-300 rounded p-2 text-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g. Festival Hoodie"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Price (â‚¹)"}),o.jsx("input",{type:"number",value:p.price,onChange:v=>d(x,"price",v.target.value),className:"w-full border-gray-300 rounded p-2 text-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Stock"}),o.jsx("input",{type:"number",value:p.stock,onChange:v=>d(x,"stock",v.target.value),className:"w-full border-gray-300 rounded p-2 text-sm focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Description"}),o.jsx("input",{type:"text",value:p.description||"",onChange:v=>d(x,"description",v.target.value),className:"w-full border-gray-300 rounded p-2 text-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Optional description"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Max per User"}),o.jsx("input",{type:"number",value:p.limitPerUser||1,onChange:v=>d(x,"limitPerUser",v.target.value),className:"w-full border-gray-300 rounded p-2 text-sm focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-md border border-gray-100",children:[o.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-2",children:"Variants (Size, Color, etc.)"}),(p.variants||[]).map((v,T)=>o.jsxs("div",{className:"flex gap-2 mb-2 items-start",children:[o.jsx("div",{className:"w-1/3",children:o.jsx("input",{type:"text",value:v.type,onChange:B=>g(x,T,B.target.value),className:"w-full border-gray-300 rounded p-1.5 text-sm",placeholder:"Type (e.g. Size)"})}),o.jsx("div",{className:"flex-1",children:o.jsx("input",{type:"text",value:v.options.join(", "),onChange:B=>y(x,T,B.target.value),className:"w-full border-gray-300 rounded p-1.5 text-sm",placeholder:"Options (comma separated: S, M, L)"})}),o.jsx("button",{type:"button",onClick:()=>h(x,T),className:"text-gray-400 hover:text-red-500 pt-1",children:"Ã—"})]},T)),o.jsx("button",{type:"button",onClick:()=>f(x),className:"text-xs text-indigo-600 font-semibold hover:text-indigo-800",children:"+ Add Variant Type"})]})]},x)),o.jsxs("button",{type:"button",onClick:i,className:"w-full py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-indigo-500 hover:text-indigo-600 transition flex items-center justify-center gap-2 font-medium",children:[o.jsx("span",{className:"text-xl",children:"+"})," Add Merchandise Item"]})]})},w1=()=>{const l=ht(),[s,i]=N.useState(!1),[r,d]=N.useState(""),[f,h]=N.useState({name:"",description:"",type:"Normal",eligibility:"Anyone",registrationFee:0,registrationLimit:100,startDate:"",endDate:"",deadline:"",location:"IIIT Hyderabad",tags:"",formFields:[],merchandise:[]}),g=x=>{const{name:v,value:T}=x.target;h({...f,[v]:T})},y=x=>{h({...f,formFields:x})},p=async x=>{x.preventDefault(),i(!0),d("");try{const v=localStorage.getItem("token");if(!v)throw new Error("Not authenticated");const T={headers:{Authorization:`Bearer ${v}`}},B={...f,tags:f.tags.split(",").map(R=>R.trim())};await te.post(`${de}/events`,B,T),alert("Event Created Successfully!"),l("/organizer/dashboard")}catch(v){d(v.response?.data?.message||v.message),i(!1)}};return o.jsx("div",{className:"min-h-screen bg-gray-100 py-10 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-xl overflow-hidden",children:[o.jsx("div",{className:"bg-indigo-600 px-6 py-4",children:o.jsx("h2",{className:"text-xl font-bold text-white",children:"Create New Event"})}),o.jsxs("div",{className:"p-6",children:[r&&o.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:r}),o.jsxs("form",{onSubmit:p,children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Event Name"}),o.jsx("input",{type:"text",name:"name",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:f.name,onChange:g})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),o.jsxs("select",{name:"type",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:f.type,onChange:g,children:[o.jsx("option",{value:"Normal",children:"Normal Event (Workshop/Talk)"}),o.jsx("option",{value:"Merchandise",children:"Merchandise Sale"})]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("textarea",{name:"description",rows:"3",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:f.description,onChange:g})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Registration Fee (â‚¹)"}),o.jsx("input",{type:"number",name:"registrationFee",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:f.registrationFee,onChange:g})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Max Participants"}),o.jsx("input",{type:"number",name:"registrationLimit",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:f.registrationLimit,onChange:g})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Team Size (Min)"}),o.jsx("input",{type:"number",name:"teamSizeMin",min:"1",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:f.teamSizeMin||1,onChange:g})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Team Size (Max)"}),o.jsx("input",{type:"number",name:"teamSizeMax",min:"1",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:f.teamSizeMax||1,onChange:g}),o.jsx("p",{className:"text-xs text-gray-500",children:"Set > 1 for Team Events"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date"}),o.jsx("input",{type:"datetime-local",name:"startDate",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:f.startDate,onChange:g})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Registration Deadline"}),o.jsx("input",{type:"datetime-local",name:"deadline",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:f.deadline,onChange:g})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tags (comma separated)"}),o.jsx("input",{type:"text",name:"tags",placeholder:"tech, coding, fun",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:f.tags,onChange:g})]})]}),f.type==="Normal"&&o.jsx("div",{className:"mt-8 pt-6 border-t",children:o.jsx(dg,{formFields:f.formFields,setFormFields:y})}),f.type==="Merchandise"&&o.jsx("div",{className:"mt-8 pt-6 border-t",children:o.jsx(fg,{merchandise:f.merchandise,setMerchandise:x=>h({...f,merchandise:x})})}),o.jsxs("div",{className:"mt-8 flex justify-end",children:[o.jsx("button",{type:"button",onClick:()=>l("/organizer/dashboard"),className:"mr-3 text-gray-600 hover:text-gray-900 px-4 py-2",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s,className:"bg-indigo-600 text-white px-6 py-2 rounded-md hover:bg-indigo-700 shadow-md",children:s?"Creating...":"Create Event"})]})]})]})]})})},_1=()=>{const[l,s]=N.useState([]),[i,r]=N.useState([]),[d,f]=N.useState(!0);ht();const[h,g]=N.useState(""),[y,p]=N.useState("All"),[x,v]=N.useState("All"),[T,B]=N.useState(!1);N.useEffect(()=>{R()},[]),N.useEffect(()=>{let E=l;y!=="All"&&(E=E.filter(_=>pp(_)===y)),x!=="All"&&(E=E.filter(_=>_.type===x)),h&&(E=E.filter(_=>_.name.toLowerCase().includes(h.toLowerCase())||_.organizer&&_.organizer.name.toLowerCase().includes(h.toLowerCase()))),r(E)},[l,y,x,h]);const R=async()=>{try{const E=localStorage.getItem("token"),_=E?{headers:{Authorization:`Bearer ${E}`}}:{},{data:z}=await te.get(`${de}/events`,_);s(z),r(z),f(!1)}catch(E){console.error("Error fetching events",E),f(!1)}},D=async()=>{try{f(!0);const E=localStorage.getItem("token"),{data:_}=await te.get(`${de}/events/recommended`,{headers:{Authorization:`Bearer ${E}`}});s(_),r(_),f(!1)}catch(E){console.error("Error fetching recommended events",E),f(!1),R()}},C=()=>{T?(B(!1),R()):(B(!0),D())};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"text-center mb-12 animate-fade-in",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600 mb-4",children:"Discover Amazing Events"}),o.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Join the excitement at Felicity Fest. Browse workshops, hackathons, and cultural performances."})]}),o.jsxs("div",{className:"glass p-4 rounded-2xl shadow-sm mb-10 flex flex-col md:flex-row gap-4 items-center justify-between",children:[o.jsx("input",{type:"text",placeholder:"Search events...",className:"w-full md:w-1/3 px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-500 bg-white/50 backdrop-blur-sm transition-all",value:h,onChange:E=>g(E.target.value)}),o.jsxs("div",{className:"flex gap-4 w-full md:w-auto items-center",children:[o.jsx("button",{onClick:C,className:`px-4 py-2 rounded-lg border transition-all ${T?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white/50 border-gray-200 text-gray-700 hover:border-indigo-300"}`,children:"âœ¨ For You"}),o.jsxs("select",{className:"px-4 py-2 rounded-lg border border-gray-200 bg-white/50 backdrop-blur-sm focus:ring-2 focus:ring-indigo-500",value:y,onChange:E=>p(E.target.value),children:[o.jsx("option",{value:"All",children:"All Status"}),o.jsx("option",{value:"Upcoming",children:"Upcoming"}),o.jsx("option",{value:"Open",children:"Open"}),o.jsx("option",{value:"Ongoing",children:"Ongoing"}),o.jsx("option",{value:"Ended",children:"Ended"}),o.jsx("option",{value:"Full",children:"Full"}),o.jsx("option",{value:"Closed",children:"Closed"})]}),o.jsxs("select",{className:"px-4 py-2 rounded-lg border border-gray-200 bg-white/50 backdrop-blur-sm focus:ring-2 focus:ring-indigo-500",value:x,onChange:E=>v(E.target.value),children:[o.jsx("option",{value:"All",children:"All Types"}),o.jsx("option",{value:"Normal",children:"Normal"}),o.jsx("option",{value:"Team",children:"Team"})]})]})]}),d?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[i.map(E=>o.jsxs("div",{className:"glass rounded-2xl overflow-hidden card-hover flex flex-col h-full border border-gray-100",children:[o.jsx("div",{className:`h-20 bg-gradient-to-r ${E1(E.type)} flex items-center justify-center`,children:o.jsx("span",{className:"text-white font-bold text-lg drop-shadow-md px-4 text-center",children:E.organizer?.name||"Club"})}),o.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${E.type==="Team"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:E.type}),o.jsx("span",{className:"text-xs text-gray-500 font-medium bg-gray-100 px-2 py-1 rounded",children:pp(E)})]}),o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2 line-clamp-1",children:E.name}),o.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2 flex-1",children:E.description}),o.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100",children:[o.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600 mb-4",children:[o.jsxs("span",{children:["Date: ",new Date(E.startDate).toLocaleDateString()]}),o.jsxs("span",{children:["Fee: ",E.registrationFee===0?"Free":`â‚¹${E.registrationFee}`]})]}),o.jsx(Le,{to:`/events/${E._id}`,className:"block w-full text-center py-2 rounded-lg bg-gray-900 text-white font-medium hover:bg-gray-800 transition-colors",children:"View Details"})]})]})]},E._id)),i.length===0&&!d&&o.jsx("p",{className:"col-span-full text-center text-gray-500 text-lg",children:"No events found matching your criteria."})]})]})},E1=l=>l==="Team"?"from-slate-700 to-slate-900":"from-gray-700 to-gray-900",pp=l=>{const s=new Date;return s>new Date(l.endDate)?"Ended":s>=new Date(l.startDate)?"Ongoing":l.registeredCount>=l.registrationLimit?"Full":new Date(l.deadline)<s?"Closed":"Open"},T1=({formFields:l,onResponseChange:s,responses:i})=>!l||l.length===0?null:o.jsxs("div",{className:"border p-4 rounded-xl bg-gray-50 mt-4",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Additional Information"}),o.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Please answer the following questions from the organizer."}),o.jsx("div",{className:"space-y-4",children:l.map((r,d)=>o.jsxs("div",{className:"bg-white p-4 border rounded-lg shadow-sm",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.label," ",r.required&&o.jsx("span",{className:"text-red-500",children:"*"})]}),r.type==="text"&&o.jsx("input",{type:"text",className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm px-3 py-2 border",value:i[r.label]||"",onChange:f=>s(r.label,f.target.value),required:r.required}),r.type==="number"&&o.jsx("input",{type:"number",className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm px-3 py-2 border",value:i[r.label]||"",onChange:f=>s(r.label,f.target.value),required:r.required}),r.type==="dropdown"&&o.jsxs("select",{className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm px-3 py-2 border",value:i[r.label]||"",onChange:f=>s(r.label,f.target.value),required:r.required,children:[o.jsx("option",{value:"",children:"Select an option"}),r.options&&r.options.map((f,h)=>o.jsx("option",{value:f,children:f},h))]})]},d))})]}),sa=Object.create(null);sa.open="0";sa.close="1";sa.ping="2";sa.pong="3";sa.message="4";sa.upgrade="5";sa.noop="6";const ar=Object.create(null);Object.keys(sa).forEach(l=>{ar[sa[l]]=l});const iu={type:"error",data:"parser error"},hg=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",mg=typeof ArrayBuffer=="function",pg=l=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(l):l&&l.buffer instanceof ArrayBuffer,Ru=({type:l,data:s},i,r)=>hg&&s instanceof Blob?i?r(s):gp(s,r):mg&&(s instanceof ArrayBuffer||pg(s))?i?r(s):gp(new Blob([s]),r):r(sa[l]+(s||"")),gp=(l,s)=>{const i=new FileReader;return i.onload=function(){const r=i.result.split(",")[1];s("b"+(r||""))},i.readAsDataURL(l)};function yp(l){return l instanceof Uint8Array?l:l instanceof ArrayBuffer?new Uint8Array(l):new Uint8Array(l.buffer,l.byteOffset,l.byteLength)}let Wc;function C1(l,s){if(hg&&l.data instanceof Blob)return l.data.arrayBuffer().then(yp).then(s);if(mg&&(l.data instanceof ArrayBuffer||pg(l.data)))return s(yp(l.data));Ru(l,!1,i=>{Wc||(Wc=new TextEncoder),s(Wc.encode(i))})}const xp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ms=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let l=0;l<xp.length;l++)ms[xp.charCodeAt(l)]=l;const R1=l=>{let s=l.length*.75,i=l.length,r,d=0,f,h,g,y;l[l.length-1]==="="&&(s--,l[l.length-2]==="="&&s--);const p=new ArrayBuffer(s),x=new Uint8Array(p);for(r=0;r<i;r+=4)f=ms[l.charCodeAt(r)],h=ms[l.charCodeAt(r+1)],g=ms[l.charCodeAt(r+2)],y=ms[l.charCodeAt(r+3)],x[d++]=f<<2|h>>4,x[d++]=(h&15)<<4|g>>2,x[d++]=(g&3)<<6|y&63;return p},A1=typeof ArrayBuffer=="function",Au=(l,s)=>{if(typeof l!="string")return{type:"message",data:gg(l,s)};const i=l.charAt(0);return i==="b"?{type:"message",data:O1(l.substring(1),s)}:ar[i]?l.length>1?{type:ar[i],data:l.substring(1)}:{type:ar[i]}:iu},O1=(l,s)=>{if(A1){const i=R1(l);return gg(i,s)}else return{base64:!0,data:l}},gg=(l,s)=>s==="blob"?l instanceof Blob?l:new Blob([l]):l instanceof ArrayBuffer?l:l.buffer,yg="",D1=(l,s)=>{const i=l.length,r=new Array(i);let d=0;l.forEach((f,h)=>{Ru(f,!1,g=>{r[h]=g,++d===i&&s(r.join(yg))})})},z1=(l,s)=>{const i=l.split(yg),r=[];for(let d=0;d<i.length;d++){const f=Au(i[d],s);if(r.push(f),f.type==="error")break}return r};function M1(){return new TransformStream({transform(l,s){C1(l,i=>{const r=i.length;let d;if(r<126)d=new Uint8Array(1),new DataView(d.buffer).setUint8(0,r);else if(r<65536){d=new Uint8Array(3);const f=new DataView(d.buffer);f.setUint8(0,126),f.setUint16(1,r)}else{d=new Uint8Array(9);const f=new DataView(d.buffer);f.setUint8(0,127),f.setBigUint64(1,BigInt(r))}l.data&&typeof l.data!="string"&&(d[0]|=128),s.enqueue(d),s.enqueue(i)})}})}let Ic;function $i(l){return l.reduce((s,i)=>s+i.length,0)}function Ki(l,s){if(l[0].length===s)return l.shift();const i=new Uint8Array(s);let r=0;for(let d=0;d<s;d++)i[d]=l[0][r++],r===l[0].length&&(l.shift(),r=0);return l.length&&r<l[0].length&&(l[0]=l[0].slice(r)),i}function k1(l,s){Ic||(Ic=new TextDecoder);const i=[];let r=0,d=-1,f=!1;return new TransformStream({transform(h,g){for(i.push(h);;){if(r===0){if($i(i)<1)break;const y=Ki(i,1);f=(y[0]&128)===128,d=y[0]&127,d<126?r=3:d===126?r=1:r=2}else if(r===1){if($i(i)<2)break;const y=Ki(i,2);d=new DataView(y.buffer,y.byteOffset,y.length).getUint16(0),r=3}else if(r===2){if($i(i)<8)break;const y=Ki(i,8),p=new DataView(y.buffer,y.byteOffset,y.length),x=p.getUint32(0);if(x>Math.pow(2,21)-1){g.enqueue(iu);break}d=x*Math.pow(2,32)+p.getUint32(4),r=3}else{if($i(i)<d)break;const y=Ki(i,d);g.enqueue(Au(f?y:Ic.decode(y),s)),r=0}if(d===0||d>l){g.enqueue(iu);break}}}})}const xg=4;function Pe(l){if(l)return U1(l)}function U1(l){for(var s in Pe.prototype)l[s]=Pe.prototype[s];return l}Pe.prototype.on=Pe.prototype.addEventListener=function(l,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+l]=this._callbacks["$"+l]||[]).push(s),this};Pe.prototype.once=function(l,s){function i(){this.off(l,i),s.apply(this,arguments)}return i.fn=s,this.on(l,i),this};Pe.prototype.off=Pe.prototype.removeListener=Pe.prototype.removeAllListeners=Pe.prototype.removeEventListener=function(l,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+l];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+l],this;for(var r,d=0;d<i.length;d++)if(r=i[d],r===s||r.fn===s){i.splice(d,1);break}return i.length===0&&delete this._callbacks["$"+l],this};Pe.prototype.emit=function(l){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),i=this._callbacks["$"+l],r=1;r<arguments.length;r++)s[r-1]=arguments[r];if(i){i=i.slice(0);for(var r=0,d=i.length;r<d;++r)i[r].apply(this,s)}return this};Pe.prototype.emitReserved=Pe.prototype.emit;Pe.prototype.listeners=function(l){return this._callbacks=this._callbacks||{},this._callbacks["$"+l]||[]};Pe.prototype.hasListeners=function(l){return!!this.listeners(l).length};const pr=typeof Promise=="function"&&typeof Promise.resolve=="function"?s=>Promise.resolve().then(s):(s,i)=>i(s,0),Zt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),B1="arraybuffer";function bg(l,...s){return s.reduce((i,r)=>(l.hasOwnProperty(r)&&(i[r]=l[r]),i),{})}const L1=Zt.setTimeout,q1=Zt.clearTimeout;function gr(l,s){s.useNativeTimers?(l.setTimeoutFn=L1.bind(Zt),l.clearTimeoutFn=q1.bind(Zt)):(l.setTimeoutFn=Zt.setTimeout.bind(Zt),l.clearTimeoutFn=Zt.clearTimeout.bind(Zt))}const H1=1.33;function Y1(l){return typeof l=="string"?X1(l):Math.ceil((l.byteLength||l.size)*H1)}function X1(l){let s=0,i=0;for(let r=0,d=l.length;r<d;r++)s=l.charCodeAt(r),s<128?i+=1:s<2048?i+=2:s<55296||s>=57344?i+=3:(r++,i+=4);return i}function vg(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function V1(l){let s="";for(let i in l)l.hasOwnProperty(i)&&(s.length&&(s+="&"),s+=encodeURIComponent(i)+"="+encodeURIComponent(l[i]));return s}function G1(l){let s={},i=l.split("&");for(let r=0,d=i.length;r<d;r++){let f=i[r].split("=");s[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return s}class Q1 extends Error{constructor(s,i,r){super(s),this.description=i,this.context=r,this.type="TransportError"}}class Ou extends Pe{constructor(s){super(),this.writable=!1,gr(this,s),this.opts=s,this.query=s.query,this.socket=s.socket,this.supportsBinary=!s.forceBase64}onError(s,i,r){return super.emitReserved("error",new Q1(s,i,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(s){this.readyState==="open"&&this.write(s)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(s){const i=Au(s,this.socket.binaryType);this.onPacket(i)}onPacket(s){super.emitReserved("packet",s)}onClose(s){this.readyState="closed",super.emitReserved("close",s)}pause(s){}createUri(s,i={}){return s+"://"+this._hostname()+this._port()+this.opts.path+this._query(i)}_hostname(){const s=this.opts.hostname;return s.indexOf(":")===-1?s:"["+s+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(s){const i=V1(s);return i.length?"?"+i:""}}class Z1 extends Ou{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(s){this.readyState="pausing";const i=()=>{this.readyState="paused",s()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||i()})),this.writable||(r++,this.once("drain",function(){--r||i()}))}else i()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(s){const i=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};z1(s,this.socket.binaryType).forEach(i),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const s=()=>{this.write([{type:"close"}])};this.readyState==="open"?s():this.once("open",s)}write(s){this.writable=!1,D1(s,i=>{this.doWrite(i,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const s=this.opts.secure?"https":"http",i=this.query||{};return this.opts.timestampRequests!==!1&&(i[this.opts.timestampParam]=vg()),!this.supportsBinary&&!i.sid&&(i.b64=1),this.createUri(s,i)}}let Ng=!1;try{Ng=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const $1=Ng;function K1(){}class J1 extends Z1{constructor(s){if(super(s),typeof location<"u"){const i=location.protocol==="https:";let r=location.port;r||(r=i?"443":"80"),this.xd=typeof location<"u"&&s.hostname!==location.hostname||r!==s.port}}doWrite(s,i){const r=this.request({method:"POST",data:s});r.on("success",i),r.on("error",(d,f)=>{this.onError("xhr post error",d,f)})}doPoll(){const s=this.request();s.on("data",this.onData.bind(this)),s.on("error",(i,r)=>{this.onError("xhr poll error",i,r)}),this.pollXhr=s}}class la extends Pe{constructor(s,i,r){super(),this.createRequest=s,gr(this,r),this._opts=r,this._method=r.method||"GET",this._uri=i,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var s;const i=bg(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(i);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let d in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(d)&&r.setRequestHeader(d,this._opts.extraHeaders[d])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(s=this._opts.cookieJar)===null||s===void 0||s.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var d;r.readyState===3&&((d=this._opts.cookieJar)===null||d===void 0||d.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(d){this.setTimeoutFn(()=>{this._onError(d)},0);return}typeof document<"u"&&(this._index=la.requestsCount++,la.requests[this._index]=this)}_onError(s){this.emitReserved("error",s,this._xhr),this._cleanup(!0)}_cleanup(s){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=K1,s)try{this._xhr.abort()}catch{}typeof document<"u"&&delete la.requests[this._index],this._xhr=null}}_onLoad(){const s=this._xhr.responseText;s!==null&&(this.emitReserved("data",s),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}la.requestsCount=0;la.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",bp);else if(typeof addEventListener=="function"){const l="onpagehide"in Zt?"pagehide":"unload";addEventListener(l,bp,!1)}}function bp(){for(let l in la.requests)la.requests.hasOwnProperty(l)&&la.requests[l].abort()}const F1=(function(){const l=Sg({xdomain:!1});return l&&l.responseType!==null})();class W1 extends J1{constructor(s){super(s);const i=s&&s.forceBase64;this.supportsBinary=F1&&!i}request(s={}){return Object.assign(s,{xd:this.xd},this.opts),new la(Sg,this.uri(),s)}}function Sg(l){const s=l.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!s||$1))return new XMLHttpRequest}catch{}if(!s)try{return new Zt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const jg=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class I1 extends Ou{get name(){return"websocket"}doOpen(){const s=this.uri(),i=this.opts.protocols,r=jg?{}:bg(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(s,i,r)}catch(d){return this.emitReserved("error",d)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=s=>this.onClose({description:"websocket connection closed",context:s}),this.ws.onmessage=s=>this.onData(s.data),this.ws.onerror=s=>this.onError("websocket error",s)}write(s){this.writable=!1;for(let i=0;i<s.length;i++){const r=s[i],d=i===s.length-1;Ru(r,this.supportsBinary,f=>{try{this.doWrite(r,f)}catch{}d&&pr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const s=this.opts.secure?"wss":"ws",i=this.query||{};return this.opts.timestampRequests&&(i[this.opts.timestampParam]=vg()),this.supportsBinary||(i.b64=1),this.createUri(s,i)}}const Pc=Zt.WebSocket||Zt.MozWebSocket;class P1 extends I1{createSocket(s,i,r){return jg?new Pc(s,i,r):i?new Pc(s,i):new Pc(s)}doWrite(s,i){this.ws.send(i)}}class eN extends Ou{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(s){return this.emitReserved("error",s)}this._transport.closed.then(()=>{this.onClose()}).catch(s=>{this.onError("webtransport error",s)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(s=>{const i=k1(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=s.readable.pipeThrough(i).getReader(),d=M1();d.readable.pipeTo(s.writable),this._writer=d.writable.getWriter();const f=()=>{r.read().then(({done:g,value:y})=>{g||(this.onPacket(y),f())}).catch(g=>{})};f();const h={type:"open"};this.query.sid&&(h.data=`{"sid":"${this.query.sid}"}`),this._writer.write(h).then(()=>this.onOpen())})})}write(s){this.writable=!1;for(let i=0;i<s.length;i++){const r=s[i],d=i===s.length-1;this._writer.write(r).then(()=>{d&&pr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var s;(s=this._transport)===null||s===void 0||s.close()}}const tN={websocket:P1,webtransport:eN,polling:W1},aN=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,nN=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ru(l){if(l.length>8e3)throw"URI too long";const s=l,i=l.indexOf("["),r=l.indexOf("]");i!=-1&&r!=-1&&(l=l.substring(0,i)+l.substring(i,r).replace(/:/g,";")+l.substring(r,l.length));let d=aN.exec(l||""),f={},h=14;for(;h--;)f[nN[h]]=d[h]||"";return i!=-1&&r!=-1&&(f.source=s,f.host=f.host.substring(1,f.host.length-1).replace(/;/g,":"),f.authority=f.authority.replace("[","").replace("]","").replace(/;/g,":"),f.ipv6uri=!0),f.pathNames=lN(f,f.path),f.queryKey=sN(f,f.query),f}function lN(l,s){const i=/\/{2,9}/g,r=s.replace(i,"/").split("/");return(s.slice(0,1)=="/"||s.length===0)&&r.splice(0,1),s.slice(-1)=="/"&&r.splice(r.length-1,1),r}function sN(l,s){const i={};return s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,d,f){d&&(i[d]=f)}),i}const ou=typeof addEventListener=="function"&&typeof removeEventListener=="function",nr=[];ou&&addEventListener("offline",()=>{nr.forEach(l=>l())},!1);class Pa extends Pe{constructor(s,i){if(super(),this.binaryType=B1,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,s&&typeof s=="object"&&(i=s,s=null),s){const r=ru(s);i.hostname=r.host,i.secure=r.protocol==="https"||r.protocol==="wss",i.port=r.port,r.query&&(i.query=r.query)}else i.host&&(i.hostname=ru(i.host).host);gr(this,i),this.secure=i.secure!=null?i.secure:typeof location<"u"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(r=>{const d=r.prototype.name;this.transports.push(d),this._transportsByName[d]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=G1(this.opts.query)),ou&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},nr.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(s){const i=Object.assign({},this.opts.query);i.EIO=xg,i.transport=s,this.id&&(i.sid=this.id);const r=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[s]);return new this._transportsByName[s](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const s=this.opts.rememberUpgrade&&Pa.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const i=this.createTransport(s);i.open(),this.setTransport(i)}setTransport(s){this.transport&&this.transport.removeAllListeners(),this.transport=s,s.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",Pa.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",s),this.emitReserved("heartbeat"),s.type){case"open":this.onHandshake(JSON.parse(s.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const i=new Error("server error");i.code=s.data,this._onError(i);break;case"message":this.emitReserved("data",s.data),this.emitReserved("message",s.data);break}}onHandshake(s){this.emitReserved("handshake",s),this.id=s.sid,this.transport.query.sid=s.sid,this._pingInterval=s.pingInterval,this._pingTimeout=s.pingTimeout,this._maxPayload=s.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const s=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+s,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},s),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const s=this._getWritablePackets();this.transport.send(s),this._prevBufferLen=s.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let r=0;r<this.writeBuffer.length;r++){const d=this.writeBuffer[r].data;if(d&&(i+=Y1(d)),r>0&&i>this._maxPayload)return this.writeBuffer.slice(0,r);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const s=Date.now()>this._pingTimeoutTime;return s&&(this._pingTimeoutTime=0,pr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),s}write(s,i,r){return this._sendPacket("message",s,i,r),this}send(s,i,r){return this._sendPacket("message",s,i,r),this}_sendPacket(s,i,r,d){if(typeof i=="function"&&(d=i,i=void 0),typeof r=="function"&&(d=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const f={type:s,data:i,options:r};this.emitReserved("packetCreate",f),this.writeBuffer.push(f),d&&this.once("flush",d),this.flush()}close(){const s=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),s()},r=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():s()}):this.upgrading?r():s()),this}_onError(s){if(Pa.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",s),this._onClose("transport error",s)}_onClose(s,i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ou&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=nr.indexOf(this._offlineEventListener);r!==-1&&nr.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",s,i),this.writeBuffer=[],this._prevBufferLen=0}}}Pa.protocol=xg;class iN extends Pa{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let s=0;s<this._upgrades.length;s++)this._probe(this._upgrades[s])}_probe(s){let i=this.createTransport(s),r=!1;Pa.priorWebsocketSuccess=!1;const d=()=>{r||(i.send([{type:"ping",data:"probe"}]),i.once("packet",v=>{if(!r)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;Pa.priorWebsocketSuccess=i.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(x(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{const T=new Error("probe error");T.transport=i.name,this.emitReserved("upgradeError",T)}}))};function f(){r||(r=!0,x(),i.close(),i=null)}const h=v=>{const T=new Error("probe error: "+v);T.transport=i.name,f(),this.emitReserved("upgradeError",T)};function g(){h("transport closed")}function y(){h("socket closed")}function p(v){i&&v.name!==i.name&&f()}const x=()=>{i.removeListener("open",d),i.removeListener("error",h),i.removeListener("close",g),this.off("close",y),this.off("upgrading",p)};i.once("open",d),i.once("error",h),i.once("close",g),this.once("close",y),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&s!=="webtransport"?this.setTimeoutFn(()=>{r||i.open()},200):i.open()}onHandshake(s){this._upgrades=this._filterUpgrades(s.upgrades),super.onHandshake(s)}_filterUpgrades(s){const i=[];for(let r=0;r<s.length;r++)~this.transports.indexOf(s[r])&&i.push(s[r]);return i}}let rN=class extends iN{constructor(s,i={}){const r=typeof s=="object"?s:i;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(d=>tN[d]).filter(d=>!!d)),super(s,r)}};function oN(l,s="",i){let r=l;i=i||typeof location<"u"&&location,l==null&&(l=i.protocol+"//"+i.host),typeof l=="string"&&(l.charAt(0)==="/"&&(l.charAt(1)==="/"?l=i.protocol+l:l=i.host+l),/^(https?|wss?):\/\//.test(l)||(typeof i<"u"?l=i.protocol+"//"+l:l="https://"+l),r=ru(l)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const f=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+f+":"+r.port+s,r.href=r.protocol+"://"+f+(i&&i.port===r.port?"":":"+r.port),r}const cN=typeof ArrayBuffer=="function",uN=l=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(l):l.buffer instanceof ArrayBuffer,wg=Object.prototype.toString,dN=typeof Blob=="function"||typeof Blob<"u"&&wg.call(Blob)==="[object BlobConstructor]",fN=typeof File=="function"||typeof File<"u"&&wg.call(File)==="[object FileConstructor]";function Du(l){return cN&&(l instanceof ArrayBuffer||uN(l))||dN&&l instanceof Blob||fN&&l instanceof File}function lr(l,s){if(!l||typeof l!="object")return!1;if(Array.isArray(l)){for(let i=0,r=l.length;i<r;i++)if(lr(l[i]))return!0;return!1}if(Du(l))return!0;if(l.toJSON&&typeof l.toJSON=="function"&&arguments.length===1)return lr(l.toJSON(),!0);for(const i in l)if(Object.prototype.hasOwnProperty.call(l,i)&&lr(l[i]))return!0;return!1}function hN(l){const s=[],i=l.data,r=l;return r.data=cu(i,s),r.attachments=s.length,{packet:r,buffers:s}}function cu(l,s){if(!l)return l;if(Du(l)){const i={_placeholder:!0,num:s.length};return s.push(l),i}else if(Array.isArray(l)){const i=new Array(l.length);for(let r=0;r<l.length;r++)i[r]=cu(l[r],s);return i}else if(typeof l=="object"&&!(l instanceof Date)){const i={};for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&(i[r]=cu(l[r],s));return i}return l}function mN(l,s){return l.data=uu(l.data,s),delete l.attachments,l}function uu(l,s){if(!l)return l;if(l&&l._placeholder===!0){if(typeof l.num=="number"&&l.num>=0&&l.num<s.length)return s[l.num];throw new Error("illegal attachments")}else if(Array.isArray(l))for(let i=0;i<l.length;i++)l[i]=uu(l[i],s);else if(typeof l=="object")for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&(l[i]=uu(l[i],s));return l}const pN=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var Ne;(function(l){l[l.CONNECT=0]="CONNECT",l[l.DISCONNECT=1]="DISCONNECT",l[l.EVENT=2]="EVENT",l[l.ACK=3]="ACK",l[l.CONNECT_ERROR=4]="CONNECT_ERROR",l[l.BINARY_EVENT=5]="BINARY_EVENT",l[l.BINARY_ACK=6]="BINARY_ACK"})(Ne||(Ne={}));class gN{constructor(s){this.replacer=s}encode(s){return(s.type===Ne.EVENT||s.type===Ne.ACK)&&lr(s)?this.encodeAsBinary({type:s.type===Ne.EVENT?Ne.BINARY_EVENT:Ne.BINARY_ACK,nsp:s.nsp,data:s.data,id:s.id}):[this.encodeAsString(s)]}encodeAsString(s){let i=""+s.type;return(s.type===Ne.BINARY_EVENT||s.type===Ne.BINARY_ACK)&&(i+=s.attachments+"-"),s.nsp&&s.nsp!=="/"&&(i+=s.nsp+","),s.id!=null&&(i+=s.id),s.data!=null&&(i+=JSON.stringify(s.data,this.replacer)),i}encodeAsBinary(s){const i=hN(s),r=this.encodeAsString(i.packet),d=i.buffers;return d.unshift(r),d}}class zu extends Pe{constructor(s){super(),this.reviver=s}add(s){let i;if(typeof s=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");i=this.decodeString(s);const r=i.type===Ne.BINARY_EVENT;r||i.type===Ne.BINARY_ACK?(i.type=r?Ne.EVENT:Ne.ACK,this.reconstructor=new yN(i),i.attachments===0&&super.emitReserved("decoded",i)):super.emitReserved("decoded",i)}else if(Du(s)||s.base64)if(this.reconstructor)i=this.reconstructor.takeBinaryData(s),i&&(this.reconstructor=null,super.emitReserved("decoded",i));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+s)}decodeString(s){let i=0;const r={type:Number(s.charAt(0))};if(Ne[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Ne.BINARY_EVENT||r.type===Ne.BINARY_ACK){const f=i+1;for(;s.charAt(++i)!=="-"&&i!=s.length;);const h=s.substring(f,i);if(h!=Number(h)||s.charAt(i)!=="-")throw new Error("Illegal attachments");r.attachments=Number(h)}if(s.charAt(i+1)==="/"){const f=i+1;for(;++i&&!(s.charAt(i)===","||i===s.length););r.nsp=s.substring(f,i)}else r.nsp="/";const d=s.charAt(i+1);if(d!==""&&Number(d)==d){const f=i+1;for(;++i;){const h=s.charAt(i);if(h==null||Number(h)!=h){--i;break}if(i===s.length)break}r.id=Number(s.substring(f,i+1))}if(s.charAt(++i)){const f=this.tryParse(s.substr(i));if(zu.isPayloadValid(r.type,f))r.data=f;else throw new Error("invalid payload")}return r}tryParse(s){try{return JSON.parse(s,this.reviver)}catch{return!1}}static isPayloadValid(s,i){switch(s){case Ne.CONNECT:return vp(i);case Ne.DISCONNECT:return i===void 0;case Ne.CONNECT_ERROR:return typeof i=="string"||vp(i);case Ne.EVENT:case Ne.BINARY_EVENT:return Array.isArray(i)&&(typeof i[0]=="number"||typeof i[0]=="string"&&pN.indexOf(i[0])===-1);case Ne.ACK:case Ne.BINARY_ACK:return Array.isArray(i)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class yN{constructor(s){this.packet=s,this.buffers=[],this.reconPack=s}takeBinaryData(s){if(this.buffers.push(s),this.buffers.length===this.reconPack.attachments){const i=mN(this.reconPack,this.buffers);return this.finishedReconstruction(),i}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function vp(l){return Object.prototype.toString.call(l)==="[object Object]"}const xN=Object.freeze(Object.defineProperty({__proto__:null,Decoder:zu,Encoder:gN,get PacketType(){return Ne}},Symbol.toStringTag,{value:"Module"}));function Ft(l,s,i){return l.on(s,i),function(){l.off(s,i)}}const bN=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _g extends Pe{constructor(s,i,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=s,this.nsp=i,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const s=this.io;this.subs=[Ft(s,"open",this.onopen.bind(this)),Ft(s,"packet",this.onpacket.bind(this)),Ft(s,"error",this.onerror.bind(this)),Ft(s,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...s){return s.unshift("message"),this.emit.apply(this,s),this}emit(s,...i){var r,d,f;if(bN.hasOwnProperty(s))throw new Error('"'+s.toString()+'" is a reserved event name');if(i.unshift(s),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const h={type:Ne.EVENT,data:i};if(h.options={},h.options.compress=this.flags.compress!==!1,typeof i[i.length-1]=="function"){const x=this.ids++,v=i.pop();this._registerAckCallback(x,v),h.id=x}const g=(d=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||d===void 0?void 0:d.writable,y=this.connected&&!(!((f=this.io.engine)===null||f===void 0)&&f._hasPingExpired());return this.flags.volatile&&!g||(y?(this.notifyOutgoingListeners(h),this.packet(h)):this.sendBuffer.push(h)),this.flags={},this}_registerAckCallback(s,i){var r;const d=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(d===void 0){this.acks[s]=i;return}const f=this.io.setTimeoutFn(()=>{delete this.acks[s];for(let g=0;g<this.sendBuffer.length;g++)this.sendBuffer[g].id===s&&this.sendBuffer.splice(g,1);i.call(this,new Error("operation has timed out"))},d),h=(...g)=>{this.io.clearTimeoutFn(f),i.apply(this,g)};h.withError=!0,this.acks[s]=h}emitWithAck(s,...i){return new Promise((r,d)=>{const f=(h,g)=>h?d(h):r(g);f.withError=!0,i.push(f),this.emit(s,...i)})}_addToQueue(s){let i;typeof s[s.length-1]=="function"&&(i=s.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:s,flags:Object.assign({fromQueue:!0},this.flags)};s.push((d,...f)=>(this._queue[0],d!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),i&&i(d)):(this._queue.shift(),i&&i(null,...f)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(s=!1){if(!this.connected||this._queue.length===0)return;const i=this._queue[0];i.pending&&!s||(i.pending=!0,i.tryCount++,this.flags=i.flags,this.emit.apply(this,i.args))}packet(s){s.nsp=this.nsp,this.io._packet(s)}onopen(){typeof this.auth=="function"?this.auth(s=>{this._sendConnectPacket(s)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(s){this.packet({type:Ne.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},s):s})}onerror(s){this.connected||this.emitReserved("connect_error",s)}onclose(s,i){this.connected=!1,delete this.id,this.emitReserved("disconnect",s,i),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(s=>{if(!this.sendBuffer.some(r=>String(r.id)===s)){const r=this.acks[s];delete this.acks[s],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(s){if(s.nsp===this.nsp)switch(s.type){case Ne.CONNECT:s.data&&s.data.sid?this.onconnect(s.data.sid,s.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ne.EVENT:case Ne.BINARY_EVENT:this.onevent(s);break;case Ne.ACK:case Ne.BINARY_ACK:this.onack(s);break;case Ne.DISCONNECT:this.ondisconnect();break;case Ne.CONNECT_ERROR:this.destroy();const r=new Error(s.data.message);r.data=s.data.data,this.emitReserved("connect_error",r);break}}onevent(s){const i=s.data||[];s.id!=null&&i.push(this.ack(s.id)),this.connected?this.emitEvent(i):this.receiveBuffer.push(Object.freeze(i))}emitEvent(s){if(this._anyListeners&&this._anyListeners.length){const i=this._anyListeners.slice();for(const r of i)r.apply(this,s)}super.emit.apply(this,s),this._pid&&s.length&&typeof s[s.length-1]=="string"&&(this._lastOffset=s[s.length-1])}ack(s){const i=this;let r=!1;return function(...d){r||(r=!0,i.packet({type:Ne.ACK,id:s,data:d}))}}onack(s){const i=this.acks[s.id];typeof i=="function"&&(delete this.acks[s.id],i.withError&&s.data.unshift(null),i.apply(this,s.data))}onconnect(s,i){this.id=s,this.recovered=i&&this._pid===i,this._pid=i,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(s=>this.emitEvent(s)),this.receiveBuffer=[],this.sendBuffer.forEach(s=>{this.notifyOutgoingListeners(s),this.packet(s)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(s=>s()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ne.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(s){return this.flags.compress=s,this}get volatile(){return this.flags.volatile=!0,this}timeout(s){return this.flags.timeout=s,this}onAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(s),this}prependAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(s),this}offAny(s){if(!this._anyListeners)return this;if(s){const i=this._anyListeners;for(let r=0;r<i.length;r++)if(s===i[r])return i.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(s),this}prependAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(s),this}offAnyOutgoing(s){if(!this._anyOutgoingListeners)return this;if(s){const i=this._anyOutgoingListeners;for(let r=0;r<i.length;r++)if(s===i[r])return i.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(s){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const i=this._anyOutgoingListeners.slice();for(const r of i)r.apply(this,s.data)}}}function pl(l){l=l||{},this.ms=l.min||100,this.max=l.max||1e4,this.factor=l.factor||2,this.jitter=l.jitter>0&&l.jitter<=1?l.jitter:0,this.attempts=0}pl.prototype.duration=function(){var l=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var s=Math.random(),i=Math.floor(s*this.jitter*l);l=(Math.floor(s*10)&1)==0?l-i:l+i}return Math.min(l,this.max)|0};pl.prototype.reset=function(){this.attempts=0};pl.prototype.setMin=function(l){this.ms=l};pl.prototype.setMax=function(l){this.max=l};pl.prototype.setJitter=function(l){this.jitter=l};class du extends Pe{constructor(s,i){var r;super(),this.nsps={},this.subs=[],s&&typeof s=="object"&&(i=s,s=void 0),i=i||{},i.path=i.path||"/socket.io",this.opts=i,gr(this,i),this.reconnection(i.reconnection!==!1),this.reconnectionAttempts(i.reconnectionAttempts||1/0),this.reconnectionDelay(i.reconnectionDelay||1e3),this.reconnectionDelayMax(i.reconnectionDelayMax||5e3),this.randomizationFactor((r=i.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new pl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(i.timeout==null?2e4:i.timeout),this._readyState="closed",this.uri=s;const d=i.parser||xN;this.encoder=new d.Encoder,this.decoder=new d.Decoder,this._autoConnect=i.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(s){return arguments.length?(this._reconnection=!!s,s||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(s){return s===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=s,this)}reconnectionDelay(s){var i;return s===void 0?this._reconnectionDelay:(this._reconnectionDelay=s,(i=this.backoff)===null||i===void 0||i.setMin(s),this)}randomizationFactor(s){var i;return s===void 0?this._randomizationFactor:(this._randomizationFactor=s,(i=this.backoff)===null||i===void 0||i.setJitter(s),this)}reconnectionDelayMax(s){var i;return s===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=s,(i=this.backoff)===null||i===void 0||i.setMax(s),this)}timeout(s){return arguments.length?(this._timeout=s,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(s){if(~this._readyState.indexOf("open"))return this;this.engine=new rN(this.uri,this.opts);const i=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const d=Ft(i,"open",function(){r.onopen(),s&&s()}),f=g=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",g),s?s(g):this.maybeReconnectOnOpen()},h=Ft(i,"error",f);if(this._timeout!==!1){const g=this._timeout,y=this.setTimeoutFn(()=>{d(),f(new Error("timeout")),i.close()},g);this.opts.autoUnref&&y.unref(),this.subs.push(()=>{this.clearTimeoutFn(y)})}return this.subs.push(d),this.subs.push(h),this}connect(s){return this.open(s)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const s=this.engine;this.subs.push(Ft(s,"ping",this.onping.bind(this)),Ft(s,"data",this.ondata.bind(this)),Ft(s,"error",this.onerror.bind(this)),Ft(s,"close",this.onclose.bind(this)),Ft(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(s){try{this.decoder.add(s)}catch(i){this.onclose("parse error",i)}}ondecoded(s){pr(()=>{this.emitReserved("packet",s)},this.setTimeoutFn)}onerror(s){this.emitReserved("error",s)}socket(s,i){let r=this.nsps[s];return r?this._autoConnect&&!r.active&&r.connect():(r=new _g(this,s,i),this.nsps[s]=r),r}_destroy(s){const i=Object.keys(this.nsps);for(const r of i)if(this.nsps[r].active)return;this._close()}_packet(s){const i=this.encoder.encode(s);for(let r=0;r<i.length;r++)this.engine.write(i[r],s.options)}cleanup(){this.subs.forEach(s=>s()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(s,i){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",s,i),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const s=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const i=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{s.skipReconnect||(this.emitReserved("reconnect_attempt",s.backoff.attempts),!s.skipReconnect&&s.open(d=>{d?(s._reconnecting=!1,s.reconnect(),this.emitReserved("reconnect_error",d)):s.onreconnect()}))},i);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const s=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",s)}}const hs={};function ps(l,s){typeof l=="object"&&(s=l,l=void 0),s=s||{};const i=oN(l,s.path||"/socket.io"),r=i.source,d=i.id,f=i.path,h=hs[d]&&f in hs[d].nsps,g=s.forceNew||s["force new connection"]||s.multiplex===!1||h;let y;return g?y=new du(r,s):(hs[d]||(hs[d]=new du(r,s)),y=hs[d]),i.query&&!s.query&&(s.query=i.queryKey),y.socket(i.path,s)}Object.assign(ps,{Manager:du,Socket:_g,io:ps,connect:ps});const Ji=ps.connect(cg),vN=({teamId:l,user:s})=>{const[i,r]=N.useState([]),[d,f]=N.useState(""),h=N.useRef(null),g=`team_${l}`;N.useEffect(()=>l?((async()=>{try{const x=localStorage.getItem("token"),{data:v}=await te.get(`${de}/chat/team/${l}`,{headers:{Authorization:`Bearer ${x}`}});r(v)}catch(x){console.error("Error fetching chat history",x)}})(),Ji.emit("join_room",g),Ji.on("receive_message",x=>{const v={_id:Date.now(),content:x.content,sender:{_id:x.senderId,firstName:x.senderName},createdAt:new Date().toISOString()};r(T=>[...T,v])}),()=>{Ji.off("receive_message")}):void 0,[l,g]),N.useEffect(()=>{h.current?.scrollIntoView({behavior:"smooth"})},[i]);const y=async p=>{if(p.preventDefault(),d.trim()==="")return;const x={room:g,content:d,senderId:s._id,senderName:s.firstName,type:"team",objectId:l,time:new Date(Date.now()).getHours()+":"+new Date(Date.now()).getMinutes()};await Ji.emit("send_message",x),f("")};return o.jsxs("div",{className:"bg-white rounded-lg shadow-inner h-80 flex flex-col mt-4 border border-gray-200",children:[o.jsxs("div",{className:"bg-gray-800 text-white p-3 rounded-t-lg flex justify-between items-center",children:[o.jsx("h4",{className:"font-bold text-sm",children:"Team Chat"}),o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 bg-gray-50",children:[i.map((p,x)=>{const v=p.sender._id===s._id||p.sender===s._id,T=p.sender.firstName||"Unknown";return o.jsx("div",{className:`flex ${v?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] px-3 py-2 rounded-lg text-sm 
./frontend/dist/assets/index-Ct7WmAIb.js:                                ${v?"bg-indigo-500 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none"}`,children:[!v&&o.jsx("p",{className:"text-xs font-bold text-gray-500 mb-1",children:T}),o.jsx("p",{children:p.content}),o.jsx("p",{className:`text-xs mt-1 text-right ${v?"text-indigo-200":"text-gray-400"}`,children:new Date(p.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},x)}),o.jsx("div",{ref:h})]}),o.jsxs("form",{onSubmit:y,className:"p-4 border-t bg-white flex",children:[o.jsx("input",{type:"text",value:d,onChange:p=>f(p.target.value),placeholder:"Type a message...",className:"flex-1 border border-gray-300 rounded-l-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),o.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-6 py-2 rounded-r-md hover:bg-indigo-700 font-medium",children:"Send"})]})]})},jN=({eventId:l,registrationStatus:s,eventEndDate:i})=>{const[r,d]=N.useState(5),[f,h]=N.useState(""),[g,y]=N.useState([]),[p,x]=N.useState(0),[v,T]=N.useState(!1),[B,R]=N.useState(""),D=new Date>new Date(i),C=s==="Confirmed"&&D&&!v;N.useEffect(()=>{E()},[l]);const E=async()=>{try{const{data:z}=await te.get(`${de}/feedback/${l}`);y(z.reviews),x(z.average)}catch(z){console.error("Error fetching feedback:",z)}},_=async z=>{z.preventDefault(),R("");try{const V=localStorage.getItem("token");await te.post(`${de}/feedback/${l}`,{rating:r,comment:f},{headers:{Authorization:`Bearer ${V}`}}),T(!0),h(""),E()}catch(V){R(V.response?.data?.message||"Error submitting feedback")}};return o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-8 border border-gray-200",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Event Feedback & Ratings"}),o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("div",{className:"text-4xl font-bold text-yellow-500 mr-2",children:p||0}),o.jsxs("div",{className:"text-gray-500",children:["/ 5 (",g.length," reviews)"]})]}),C?o.jsxs("form",{onSubmit:_,className:"mb-8 border-b pb-6",children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Leave your anonymous feedback"}),B&&o.jsx("p",{className:"text-red-500 text-sm mb-2",children:B}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Rating"}),o.jsxs("select",{value:r,onChange:z=>d(Number(z.target.value)),className:"block w-full border border-gray-300 rounded p-2",children:[o.jsx("option",{value:"5",children:"5 - Excellent"}),o.jsx("option",{value:"4",children:"4 - Good"}),o.jsx("option",{value:"3",children:"3 - Average"}),o.jsx("option",{value:"2",children:"2 - Poor"}),o.jsx("option",{value:"1",children:"1 - Terrible"})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Comment"}),o.jsx("textarea",{value:f,onChange:z=>h(z.target.value),required:!0,rows:"3",className:"block w-full border border-gray-300 rounded p-2",placeholder:"Share your experience..."})]}),o.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:"Submit Feedback"})]}):o.jsx("div",{className:"mb-6 text-gray-500 italic text-sm",children:D?s!=="Confirmed"?"Only confirmed attendees can leave feedback.":"Thank you for your feedback!":"Feedback will open after the event ends."}),o.jsx("div",{className:"space-y-4",children:g.map(z=>o.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[o.jsx("div",{className:"flex justify-between items-start",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-yellow-500 font-bold mr-2",children:"â˜…".repeat(z.rating)}),o.jsx("span",{className:"text-gray-400 text-xs",children:new Date(z.createdAt).toLocaleDateString()})]})}),o.jsx("p",{className:"text-gray-700 mt-2 text-sm",children:z.comment})]},z._id))})]})},wN=({reg:l})=>o.jsxs("div",{className:"mt-4 text-left bg-white p-4 rounded-lg shadow-inner",children:[o.jsx("h4",{className:"font-bold text-gray-700 mb-2",children:"Registration Details"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold",children:"Status:"})," ",l.status]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold",children:"Role:"})," ",l.role]}),l.teamId&&o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold",children:"Team:"})," ",l.teamId]})]})]}),_N=()=>{const{id:l}=or(),s=ht(),{user:i}=Ta(),[r,d]=N.useState(null),[f,h]=N.useState(!0),[g,y]=N.useState(null),[p,x]=N.useState({}),[v,T]=N.useState([]),[B,R]=N.useState(0);N.useEffect(()=>{D()},[l]),N.useEffect(()=>{const A=v.reduce((H,L)=>H+L.price*L.quantity,0);R(A)},[v]);const D=async()=>{try{const{data:A}=await te.get(`${de}/events/${l}`);d(A);const H=localStorage.getItem("token");if(i&&H){const L={headers:{Authorization:`Bearer ${H}`}};try{const J=await te.get(`${de}/registrations/check/${l}`,L);J.data.isRegistered&&y(J.data.registration)}catch{}}h(!1)}catch(A){console.error("Error fetching event details",A),h(!1)}},C=A=>{T(H=>{if(H.find(J=>J.itemId===A._id))return H;{const J={};return A.variants&&A.variants.forEach(ae=>{ae.options&&ae.options.length>0&&(J[ae.type]=ae.options[0])}),[...H,{itemId:A._id,quantity:1,price:A.price,variant:J}]}})},E=(A,H,L=null,J=1/0)=>{T(ae=>ae.map(ee=>{if(ee.itemId===A){const re=ee.quantity+H;return re<1?null:re>J||L&&re>L?ee:{...ee,quantity:re}}return ee}).filter(Boolean))},_=(A,H,L)=>{T(J=>J.map(ae=>ae.itemId===A?{...ae,variant:{...ae.variant,[H]:L}}:ae))},z=async()=>{try{const A=localStorage.getItem("token");if(!A){s("/login");return}const H={headers:{Authorization:`Bearer ${A}`}},L={eventId:l,responses:p,merchandiseSelection:v};await te.post(`${de}/registrations`,L,H),alert("Registered successfully!"),D(),T([]),x({})}catch(A){alert(A.response?.data?.message||"Registration failed")}};if(f)return o.jsx("div",{className:"flex bg-white h-screen items-center justify-center",children:"Loading..."});if(!r)return o.jsx("div",{className:"text-center mt-20",children:"Event not found"});const V=new Date>new Date(r.endDate);return o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl animate-fade-in",children:[o.jsxs("div",{className:"glass rounded-3xl p-8 mb-8 relative overflow-hidden border border-white/50",children:[o.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-64 h-64 bg-indigo-500 rounded-full blur-3xl opacity-20"}),o.jsx("div",{className:"absolute bottom-0 left-0 -ml-16 -mb-16 w-64 h-64 bg-purple-500 rounded-full blur-3xl opacity-20"}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4",children:[o.jsxs("span",{className:"px-4 py-1.5 rounded-full bg-white/50 backdrop-blur text-indigo-700 font-semibold text-sm",children:[r.type," Event"]}),V&&o.jsx("span",{className:"px-4 py-1.5 rounded-full bg-red-100 text-red-700 font-semibold text-sm",children:"Event Ended"})]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-4 tracking-tight",children:r.name}),o.jsx("p",{className:"text-lg text-gray-700 max-w-2xl leading-relaxed",children:r.description}),o.jsxs("div",{className:"mt-6 flex flex-wrap gap-6 text-gray-600 font-medium",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-bold",children:"Date:"})," ",new Date(r.startDate).toLocaleString()]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-bold",children:"Location:"})," ",r.location||"Campus"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-bold",children:"Fee:"})," ",r.registrationFee===0?"Free":`â‚¹${r.registrationFee}`]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-8 h-fit",children:[g?o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-8 text-center",children:[o.jsx("div",{className:"text-5xl mb-4 text-green-600",children:"âœ“"}),o.jsx("h2",{className:"text-2xl font-bold text-green-800 mb-2",children:"You are confirmed!"}),o.jsxs("p",{className:"text-green-700 mb-4",children:["Ticket ID: ",o.jsx("span",{className:"font-mono font-bold bg-white px-2 py-1 rounded border border-green-200",children:g.ticketId||"Generating..."})]}),o.jsx(wN,{reg:g})]}):o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[o.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Register Now"}),o.jsx(T1,{formFields:r.formFields,responses:p,onResponseChange:(A,H)=>x(L=>({...L,[A]:H}))}),r.merchandise&&r.merchandise.length>0&&o.jsxs("div",{className:"mt-8 border-t pt-6",children:[o.jsx("h4",{className:"text-lg font-bold mb-4",children:"Buy Merchandise"}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Select items to purchase (click to select/deselect)"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.merchandise.map(A=>{const H=v.find(ae=>ae.itemId===A._id),L=!!H,J=H?H.quantity:0;return o.jsxs("div",{className:`p-4 rounded-xl border-2 transition-all relative flex flex-col justify-between ${L?"border-indigo-500 bg-indigo-50 shadow-md":"border-gray-100 hover:border-gray-300 bg-white"}`,children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("div",{className:"font-semibold text-gray-800",children:A.name}),L&&o.jsx("div",{className:"text-indigo-600 font-bold",children:"âœ“"})]}),o.jsxs("div",{className:"text-indigo-600 font-bold",children:["â‚¹",A.price]}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[A.stock," left"]}),A.limitPerUser&&o.jsxs("div",{className:"text-xs text-orange-500",children:["Max ",A.limitPerUser," / person"]}),A.variants&&A.variants.map((ae,$)=>o.jsxs("div",{className:"mt-3",children:[o.jsxs("label",{className:"text-xs font-semibold text-gray-600 block mb-1",children:[ae.type,":"]}),o.jsx("select",{className:"w-full text-sm border-gray-300 rounded p-1 bg-white",value:H?.variant?.[ae.type]||"",onChange:ee=>{L&&_(A._id,ae.type,ee.target.value)},onClick:ee=>ee.stopPropagation(),disabled:!L,children:ae.options.map(ee=>o.jsx("option",{value:ee,children:ee},ee))})]},$))]}),o.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 flex items-center justify-between",children:L?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:ae=>{ae.stopPropagation(),E(A._id,-1,A.limitPerUser,A.stock)},className:"w-8 h-8 flex items-center justify-center bg-white rounded border border-indigo-300 text-indigo-600 hover:bg-indigo-100 font-bold active:bg-indigo-200 transition-colors",children:"-"}),o.jsx("span",{className:"text-sm font-bold w-6 text-center select-none",children:J}),o.jsx("button",{onClick:ae=>{ae.stopPropagation(),E(A._id,1,A.limitPerUser,A.stock)},className:"w-8 h-8 flex items-center justify-center bg-white rounded border border-indigo-300 text-indigo-600 hover:bg-indigo-100 font-bold active:bg-indigo-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white disabled:border-gray-200 disabled:text-gray-400",disabled:J>=A.stock||A.limitPerUser&&J>=A.limitPerUser,title:A.limitPerUser&&J>=A.limitPerUser?`Limit ${A.limitPerUser} per person`:"",children:"+"})]}):o.jsx("button",{onClick:()=>{C(A)},className:`w-full py-2 rounded font-semibold text-sm transition-colors ${A.stock>0?"bg-indigo-50 hover:bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,disabled:A.stock<=0,children:A.stock>0?"Add to Cart":"Out of Stock"})})]},A._id)})}),B>0&&o.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg flex justify-between items-center border border-gray-200",children:[o.jsx("span",{className:"font-semibold text-gray-700",children:"Merchandise Total:"}),o.jsxs("span",{className:"font-bold text-xl text-indigo-600",children:["â‚¹",B]})]})]}),o.jsx("button",{onClick:z,className:"w-full mt-8 btn-primary text-lg py-3 rounded-xl shadow-lg shadow-indigo-200 bg-indigo-600 hover:bg-indigo-700 text-white font-bold transition-transform transform active:scale-95",children:r.type==="Merchandise"?`Purchase Items (Total: â‚¹${B})`:`Confirm Registration ${B>0?`(+ â‚¹${B} Merch)`:""} ${r.registrationFee>0?`(Fee: â‚¹${r.registrationFee})`:""}`})]}),g&&r.type==="Team"&&o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Team Management"}),o.jsx(NN,{event:r,user:i,registration:g,onRefetch:D})]})]}),o.jsxs("div",{className:"space-y-8",children:[g&&o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100 h-[600px] flex flex-col",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Live Discussion"}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(SN,{eventId:r._id,user:i})})]}),o.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:o.jsx(jN,{eventId:r._id,registrationStatus:g?.status,eventEndDate:r.endDate})})]})]})]})},EN=()=>{const[l,s]=N.useState([]),[i,r]=N.useState(!0),[d,f]=N.useState("Normal");N.useEffect(()=>{C()},[]);const[h,g]=N.useState({open:!1,eventId:null,eventName:""}),[y,p]=N.useState(5),[x,v]=N.useState(""),[T,B]=N.useState(!1),R=A=>{g({open:!0,eventId:A.event?._id,eventName:A.event?.name}),p(5),v("")},D=async A=>{A.preventDefault(),B(!0);try{const L={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}};await te.post(`${de}/feedback`,{eventId:h.eventId,rating:y,comment:x},L),alert("Feedback submitted successfully!"),g({open:!1,eventId:null,eventName:""})}catch(H){console.error(H),alert(H.response?.data?.message||"Failed to submit feedback")}finally{B(!1)}},C=async()=>{try{const H={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},{data:L}=await te.get(`${de}/registrations/my`,H);s(L),r(!1)}catch(A){console.error("Error fetching registrations:",A),r(!1)}},E=async A=>{const H=prompt("Enter Payment Proof URL (e.g., Google Drive link):");if(H)try{const L=localStorage.getItem("token");await te.put(`${de}/registrations/${A}/payment`,{paymentProof:H},{headers:{Authorization:`Bearer ${L}`}}),alert("Proof uploaded successfully!"),C()}catch(L){alert("Error uploading proof: "+(L.response?.data?.message||L.message))}},_=()=>{const A=new Date;return l.filter(H=>{const L=H.event;if(!L)return!1;if(d==="Cancelled")return H.status==="Cancelled"||H.status==="Rejected";if(H.status==="Cancelled"||H.status==="Rejected")return!1;const J=L.endDate?new Date(L.endDate)<A:new Date(L.startDate)<A;return d==="Completed"?J:J?!1:d==="Merchandise"?L.type==="Merchandise":d==="Normal"?L.type!=="Merchandise":!1})},z=A=>{navigator.clipboard.writeText(A),alert("Ticket ID copied to clipboard: "+A)};if(i)return o.jsx("div",{className:"p-10 text-center",children:"Loading..."});const V=_();return o.jsxs("div",{className:"min-h-screen bg-gray-50 py-10 px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Participation History"}),o.jsx(Le,{to:"/events",className:"text-indigo-600 hover:text-indigo-800 font-medium",children:"Browse More Events â†’"})]}),o.jsx("div",{className:"flex space-x-1 bg-white p-1 rounded-xl shadow-sm mb-6 w-fit",children:["Normal","Merchandise","Completed","Cancelled"].map(A=>o.jsx("button",{onClick:()=>f(A),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${d===A?"bg-indigo-100 text-indigo-700 shadow-sm":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:A},A))}),V.length===0?o.jsxs("div",{className:"bg-white p-16 rounded-2xl shadow-sm text-center border border-gray-100",children:[o.jsx("div",{className:"text-4xl mb-4",children:"ðŸ“­"}),o.jsxs("p",{className:"text-gray-500 text-lg mb-6",children:["No ",d.toLowerCase()," records found."]}),d!=="Cancelled"&&o.jsx(Le,{to:"/events",className:"inline-block bg-indigo-600 text-white px-6 py-2.5 rounded-lg font-medium hover:bg-indigo-700 transition",children:"Explore Events"})]}):o.jsx("div",{className:"space-y-4",children:V.map(A=>o.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col md:flex-row justify-between gap-6 hover:shadow-md transition",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-semibold mb-2 ${A.event?.type==="Merchandise"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:A.event?.type}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 leading-tight mb-1",children:A.event?.name}),o.jsxs("p",{className:"text-sm text-gray-500",children:["by ",o.jsx("span",{className:"font-medium text-gray-700",children:A.event?.organizer?.name||"Organizer"})]})]}),o.jsx("div",{className:"text-right",children:o.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full 
./frontend/dist/assets/index-Ct7WmAIb.js:                                                ${A.status==="Confirmed"?"bg-green-100 text-green-700":A.status==="Pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:A.status})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4 text-sm text-gray-600",children:[A.teamName&&o.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[o.jsx("span",{className:"font-semibold block text-xs text-gray-500 uppercase",children:"Team Name"}),A.teamName]}),A.ticketId?o.jsxs("div",{className:"bg-indigo-50 p-2 rounded cursor-pointer hover:bg-indigo-100 transition group",onClick:()=>z(A.ticketId),title:"Click to copy",children:[o.jsx("span",{className:"font-semibold block text-xs text-indigo-500 uppercase",children:"Ticket ID ðŸ“‹"}),o.jsx("span",{className:"font-mono text-indigo-700",children:A.ticketId})]}):o.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[o.jsx("span",{className:"font-semibold block text-xs text-gray-500 uppercase",children:"Ticket ID"}),o.jsx("span",{className:"italic text-gray-400",children:"Pending..."})]})]}),A.status==="Pending"&&o.jsx("div",{className:"mt-4",children:o.jsx("button",{onClick:()=>E(A._id),className:"text-sm bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition",children:"Upload Payment Proof"})})]}),o.jsxs("div",{className:"flex flex-col justify-center items-end border-l border-gray-100 pl-6 space-y-3 min-w-[140px]",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs text-gray-500 font-semibold uppercase",children:"Date"}),o.jsx("p",{className:"text-gray-800 font-medium",children:A.event?.startDate?new Date(A.event.startDate).toLocaleDateString():"TBA"})]}),d==="Completed"&&A.status==="Confirmed"&&o.jsx("button",{onClick:()=>R(A),className:"w-full text-center py-2 px-4 rounded-lg bg-yellow-400 text-yellow-900 font-medium hover:bg-yellow-500 transition shadow-sm",children:"Rate Event â­"}),o.jsx(Le,{to:`/events/${A.event?._id}`,className:"w-full text-center py-2 px-4 rounded-lg bg-gray-50 text-gray-600 font-medium hover:bg-gray-100 hover:text-indigo-600 transition",children:"View Details"})]})]},A._id))})]}),h.open&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 relative",children:[o.jsx("button",{onClick:()=>g({open:!1,eventId:null,eventName:""}),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:"Ã—"}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Rate Event"}),o.jsxs("p",{className:"text-gray-500 text-sm mb-6",children:["How was ",h.eventName,"?"]}),o.jsxs("form",{onSubmit:D,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rating"}),o.jsx("div",{className:"flex gap-2 text-2xl",children:[1,2,3,4,5].map(A=>o.jsx("button",{type:"button",onClick:()=>p(A),className:`transition-transform hover:scale-110 ${A<=y?"text-yellow-400":"text-gray-300"}`,children:"â˜…"},A))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comments (Anonymous)"}),o.jsx("textarea",{value:x,onChange:A=>v(A.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",rows:"3",placeholder:"Share your experience..."})]}),o.jsx("button",{type:"submit",disabled:T,className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition-colors disabled:opacity-50",children:T?"Submitting...":"Submit Feedback"})]})]})})]})},TN=()=>{const[l,s]=N.useState(""),[i,r]=N.useState(""),[d,f]=N.useState(null),[h,g]=N.useState(null),y=async p=>{p.preventDefault(),f(null),g(null);try{await te.post(`${de}/admin/reset-request`,{email:l,reason:i}),f("Request submitted successfully. Admin will review it."),s(""),r("")}catch(x){g(x.response?.data?.message||"Failed to submit request")}};return o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded shadow",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Request Password Reset"}),o.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"For Club/Organizer Accounts"})]}),d&&o.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded",children:d}),h&&o.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded",children:h}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[o.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Club Email"}),o.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Club Contact Email (e.g. music@clubs.iiit.ac.in)",value:l,onChange:p=>s(p.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"reason",className:"sr-only",children:"Reason"}),o.jsx("textarea",{id:"reason",name:"reason",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Reason for reset (e.g. Forgot password, New coordinator)",rows:"3",value:i,onChange:p=>r(p.target.value)})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Submit Request"})}),o.jsx("div",{className:"text-center",children:o.jsx(Le,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Back to Login"})})]})]})})},CN=()=>{const[l,s]=N.useState(""),[i,r]=N.useState(""),[d,f]=N.useState(""),[h,g]=N.useState(null),y=ht(),p=async x=>{x.preventDefault(),r(""),f(""),g(null);try{const v=localStorage.getItem("token"),{data:T}=await te.post(`${de}/attendance/mark`,{ticketId:l},{headers:{Authorization:`Bearer ${v}`}});r("success"),f(T.message),g(T),s("")}catch(v){r("error"),f(v.response?.data?.message||v.message),v.response?.data?.error&&f(`${v.response.data.message}: ${v.response.data.error}`)}};return o.jsx("div",{className:"min-h-screen bg-gray-100 py-10 px-4",children:o.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-xl overflow-hidden",children:[o.jsxs("div",{className:"bg-indigo-800 px-6 py-4 flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Attendance Scanner"}),o.jsx("button",{onClick:()=>y("/organizer/dashboard"),className:"text-indigo-200 hover:text-white text-sm",children:"Exit"})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("form",{onSubmit:p,className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scan Ticket (Enter ID)"}),o.jsxs("div",{className:"flex",children:[o.jsx("input",{type:"text",value:l,onChange:x=>s(x.target.value),placeholder:"FEL-XXXXXXXX",className:"flex-1 block w-full border border-gray-300 rounded-l-md shadow-sm p-3 font-mono text-lg uppercase",autoFocus:!0}),o.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded-r-md hover:bg-indigo-700",children:"Verify"})]})]}),i==="success"&&h&&o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-4 text-center",children:[o.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-3",children:o.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),o.jsx("h3",{className:"text-lg font-medium text-green-900",children:"Verified!"}),o.jsx("p",{className:"text-sm text-green-600 mb-2",children:d}),o.jsxs("div",{className:"text-left mt-4 border-t pt-3",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"User:"})," ",h.user.firstName," ",h.user.lastName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," ",h.user.email]}),o.jsxs("p",{children:[o.jsx("strong",{children:"College:"})," ",h.user.collegeName||"N/A"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Event:"})," ",h.event.name]})]})]}),i==="error"&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 text-center",children:[o.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-3",children:o.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("h3",{className:"text-lg font-medium text-red-900",children:"Invalid / Error"}),o.jsx("p",{className:"text-sm text-red-600",children:d})]})]})]})})},RN=()=>{const{user:l,setUser:s}=Ta(),i=ht(),[r,d]=N.useState([]),[f,h]=N.useState([]),[g,y]=N.useState([]),[p,x]=N.useState(!0),v=["Cultural","Technical","Sports","Music","Dance","Drama","Photography","Literature","Gaming","Hackathons","Workshops","Entrepreneurship","Art","Design","Coding","Robotics"];N.useEffect(()=>{if(!l||l.role!=="participant"){i("/dashboard");return}T()},[l,i]);const T=async()=>{try{const E=localStorage.getItem("token"),{data:_}=await te.get(`${de}/admin/clubs`,{headers:{Authorization:`Bearer ${E}`}});d(_),x(!1)}catch(E){console.error("Error fetching organizers:",E),x(!1)}},B=E=>{f.includes(E)?h(f.filter(_=>_!==E)):h([...f,E])},R=E=>{g.includes(E)?y(g.filter(_=>_!==E)):y([...g,E])},D=async()=>{try{const E=localStorage.getItem("token");await te.put(`${de}/auth/preferences`,{interests:f,following:g},{headers:{Authorization:`Bearer ${E}`}});const _={...l,interests:f,following:g};localStorage.setItem("userInfo",JSON.stringify(_)),localStorage.setItem("user",JSON.stringify(_)),s(_),i("/dashboard")}catch(E){console.error("Error saving preferences:",E),alert("Failed to save preferences. You can set them later in your profile."),i("/dashboard")}},C=()=>{i("/dashboard")};return p?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-purple-50 py-12 px-4",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to Felicity! ðŸŽ‰"}),o.jsx("p",{className:"text-gray-600",children:"Let's personalize your experience (you can skip this and set preferences later)"})]}),o.jsxs("div",{className:"mb-10",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[o.jsx("span",{className:"mr-2",children:"ðŸŽ¯"})," Areas of Interest"]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:v.map(E=>o.jsx("button",{onClick:()=>B(E),className:`py-2 px-4 rounded-lg border-2 transition-all text-sm font-medium
./frontend/dist/assets/index-Ct7WmAIb.js:                                        ${f.includes(E)?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white text-gray-700 border-gray-200 hover:border-indigo-300"}`,children:E},E))})]}),o.jsxs("div",{className:"mb-10",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[o.jsx("span",{className:"mr-2",children:"ðŸ›ï¸"})," Follow Clubs & Organizers"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:r.map(E=>o.jsx("div",{onClick:()=>R(E._id),className:`p-4 rounded-lg border-2 cursor-pointer transition-all
./frontend/dist/assets/index-Ct7WmAIb.js:                                        ${g.includes(E._id)?"bg-indigo-50 border-indigo-500 shadow-md":"bg-white border-gray-200 hover:border-indigo-300"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:E.name}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o.jsx("span",{className:"inline-block bg-gray-100 px-2 py-0.5 rounded",children:E.category})}),o.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:E.description})]}),g.includes(E._id)&&o.jsx("div",{className:"ml-2 text-indigo-600",children:o.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})},E._id))})]}),o.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[o.jsx("button",{onClick:C,className:"px-6 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Skip for now"}),o.jsx("button",{onClick:D,className:"px-8 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all",children:"Continue to Dashboard â†’"})]}),(f.length>0||g.length>0)&&o.jsx("div",{className:"mt-6 p-4 bg-indigo-50 rounded-lg",children:o.jsxs("p",{className:"text-sm text-indigo-800",children:["âœ¨ You've selected ",o.jsx("strong",{children:f.length})," interest(s) and following ",o.jsx("strong",{children:g.length})," club(s)"]})})]})})})},AN=()=>{const{id:l}=or(),s=ht(),[i,r]=N.useState(!1),[d,f]=N.useState(!0),[h,g]=N.useState(""),[y,p]=N.useState({name:"",description:"",type:"Normal",eligibility:"Anyone",registrationFee:0,registrationLimit:100,startDate:"",endDate:"",deadline:"",location:"IIIT Hyderabad",tags:"",formFields:[],merchandise:[],status:"Draft"});N.useEffect(()=>{x()},[l]);const x=async()=>{try{const D={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},{data:C}=await te.get(`${de}/events/${l}`,D),E={...C,startDate:C.startDate?new Date(C.startDate).toISOString().slice(0,16):"",endDate:C.endDate?new Date(C.endDate).toISOString().slice(0,16):"",deadline:C.deadline?new Date(C.deadline).toISOString().slice(0,16):"",tags:C.tags?C.tags.join(", "):"",formFields:C.formFields||[],merchandise:C.merchandise||[]};p(E),f(!1)}catch{g("Failed to load event"),f(!1)}},v=R=>{const{name:D,value:C}=R.target;p({...y,[D]:C})},T=R=>{p({...y,formFields:R})},B=async R=>{R.preventDefault(),r(!0),g("");try{const D=localStorage.getItem("token");if(!D)throw new Error("Not authenticated");const C={headers:{Authorization:`Bearer ${D}`}},E={...y,tags:y.tags.split(",").map(_=>_.trim()),merchandise:y.merchandise.map(_=>({..._,limitPerUser:Number(_.limitPerUser)||1}))};await te.put(`${de}/events/${l}`,E,C),alert("Event Updated Successfully!"),s("/organizer/dashboard")}catch(D){g(D.response?.data?.message||D.message),r(!1)}};return d?o.jsx("div",{className:"p-10 text-center",children:"Loading event..."}):o.jsx("div",{className:"min-h-screen bg-gray-100 py-10 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-xl overflow-hidden",children:[o.jsx("div",{className:"bg-indigo-600 px-6 py-4",children:o.jsx("h2",{className:"text-xl font-bold text-white",children:"Edit Event"})}),o.jsxs("div",{className:"p-6",children:[h&&o.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:h}),o.jsxs("form",{onSubmit:B,children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Event Name"}),o.jsx("input",{type:"text",name:"name",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:y.name,onChange:v})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),o.jsxs("select",{name:"status",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:y.status,onChange:v,children:[o.jsx("option",{value:"Draft",children:"Draft (Hidden)"}),o.jsx("option",{value:"Published",children:"Published (Visible)"}),o.jsx("option",{value:"Ongoing",children:"Ongoing"}),o.jsx("option",{value:"Completed",children:"Completed"}),o.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),o.jsxs("select",{name:"type",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:y.type,onChange:v,children:[o.jsx("option",{value:"Normal",children:"Normal Event (Workshop/Talk)"}),o.jsx("option",{value:"Merchandise",children:"Merchandise Sale"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Eligibility"}),o.jsxs("select",{name:"eligibility",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:y.eligibility,onChange:v,children:[o.jsx("option",{value:"Anyone",children:"Anyone"}),o.jsx("option",{value:"IIIT Only",children:"IIIT Only"})]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("textarea",{name:"description",rows:"3",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:y.description,onChange:v})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Registration Fee (â‚¹)"}),o.jsx("input",{type:"number",name:"registrationFee",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:y.registrationFee,onChange:v})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Max Participants"}),o.jsx("input",{type:"number",name:"registrationLimit",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:y.registrationLimit,onChange:v})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Team Size (Min)"}),o.jsx("input",{type:"number",name:"teamSizeMin",min:"1",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:y.teamSizeMin||1,onChange:v})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Team Size (Max)"}),o.jsx("input",{type:"number",name:"teamSizeMax",min:"1",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:y.teamSizeMax||1,onChange:v}),o.jsx("p",{className:"text-xs text-gray-500",children:"Set > 1 for Team Events"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date"}),o.jsx("input",{type:"datetime-local",name:"startDate",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:y.startDate,onChange:v})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Registration Deadline"}),o.jsx("input",{type:"datetime-local",name:"deadline",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:y.deadline,onChange:v})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),o.jsx("input",{type:"text",name:"location",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:y.location,onChange:v})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tags (comma separated)"}),o.jsx("input",{type:"text",name:"tags",placeholder:"tech, coding, fun",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:y.tags,onChange:v})]})]}),y.type==="Merchandise"&&o.jsx("div",{className:"mt-8 pt-6 border-t",children:o.jsx(fg,{merchandise:y.merchandise,setMerchandise:R=>p({...y,merchandise:R})})}),y.type==="Normal"&&o.jsx("div",{className:"mt-8 pt-6 border-t",children:o.jsx(dg,{formFields:y.formFields,setFormFields:T})}),o.jsxs("div",{className:"mt-8 flex justify-end",children:[o.jsx("button",{type:"button",onClick:()=>s("/organizer/dashboard"),className:"mr-3 text-gray-600 hover:text-gray-900 px-4 py-2",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:i,className:"bg-indigo-600 text-white px-6 py-2 rounded-md hover:bg-indigo-700 shadow-md",children:i?"Updating...":"Update Event"})]})]})]})]})})};function Eg(l){var s,i,r="";if(typeof l=="string"||typeof l=="number")r+=l;else if(typeof l=="object")if(Array.isArray(l)){var d=l.length;for(s=0;s<d;s++)l[s]&&(i=Eg(l[s]))&&(r&&(r+=" "),r+=i)}else for(i in l)l[i]&&(r&&(r+=" "),r+=i);return r}function jn(){for(var l,s,i=0,r="",d=arguments.length;i<d;i++)(l=arguments[i])&&(s=Eg(l))&&(r&&(r+=" "),r+=s);return r}function ON(l){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",s.firstChild?s.insertBefore(i,s.firstChild):s.appendChild(i),i.styleSheet?i.styleSheet.cssText=l:i.appendChild(document.createTextNode(l))}ON(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
./frontend/dist/assets/index-Ct7WmAIb.js:                                    `,children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:_.name}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:_.category})]}),z&&o.jsx("span",{className:"text-indigo-600",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},_._id)})})]}),p&&o.jsxs(o.Fragment,{children:[o.jsx("hr",{className:"my-6 border-gray-200"}),o.jsxs("div",{className:"mb-6 bg-red-50 p-4 rounded border border-red-100",children:[o.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-3",children:"Change Password"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-600 mb-1",children:"New Password"}),o.jsx("input",{type:"password",name:"password",value:f.password,onChange:B,className:"w-full border p-2 rounded bg-white",placeholder:"Leave blank to keep current"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-600 mb-1",children:"Confirm New Password"}),o.jsx("input",{type:"password",name:"confirmPassword",value:f.confirmPassword,onChange:B,className:"w-full border p-2 rounded bg-white",placeholder:"Confirm new password"})]})]})]}),o.jsxs("div",{className:"flex gap-4 mt-6",children:[o.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 transition",children:"Save Changes"}),o.jsx("button",{type:"button",onClick:()=>{x(!1),T()},className:"bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600 transition",children:"Cancel"})]})]})]})]})},fS=()=>{const[l,s]=N.useState([]),[i,r]=N.useState(!0);return N.useEffect(()=>{(async()=>{try{const f=localStorage.getItem("token"),{data:h}=await te.get(`${de}/admin/clubs`,{headers:{Authorization:`Bearer ${f}`}});s(h),r(!1)}catch(f){console.error("Error fetching clubs:",f),r(!1)}})()},[]),i?o.jsx("div",{className:"text-center mt-20",children:"Loading Clubs..."}):o.jsxs("div",{className:"max-w-7xl mx-auto py-10 px-4 sm:px-6 lg:px-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Clubs & Organizers"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(d=>o.jsx(Le,{to:`/clubs/${d._id}`,className:"block group",children:o.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow p-6 h-full border border-transparent hover:border-indigo-100",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:d.name}),o.jsx("p",{className:"text-sm text-gray-500",children:d.category})]}),o.jsx("span",{className:"text-2xl opacity-50",children:"ðŸ¢"})]}),o.jsx("p",{className:"text-gray-600 line-clamp-3 mb-4 text-sm",children:d.description||"No description provided."}),o.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-auto",children:[o.jsx("span",{className:"mr-2",children:"ðŸ“§"})," ",d.contactEmail]})]})},d._id))})]})},hS=()=>{const{id:l}=or(),[s,i]=N.useState(null),[r,d]=N.useState([]),[f,h]=N.useState(!0);return N.useEffect(()=>{(async()=>{try{const y=localStorage.getItem("token"),p=await te.get(`${de}/admin/clubs/${l}`,{headers:{Authorization:`Bearer ${y}`}});i(p.data);const x=await te.get(`${de}/events?organizer=${l}`);d(x.data),h(!1)}catch(y){console.error("Error fetching data:",y),h(!1)}})()},[l]),f?o.jsx("div",{className:"text-center mt-20",children:"Loading..."}):s?o.jsxs("div",{className:"max-w-7xl mx-auto py-10 px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"bg-white shadow rounded-lg p-8 mb-10 border-l-4 border-indigo-600",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:s.name}),o.jsx("span",{className:"inline-block bg-indigo-100 text-indigo-800 text-sm px-3 py-1 rounded-full font-medium",children:s.category})]}),o.jsx("div",{className:"text-right text-gray-600",children:o.jsxs("p",{className:"flex items-center justify-end gap-2",children:[o.jsx("span",{children:"ðŸ“§"})," ",s.contactEmail]})})]}),o.jsx("p",{className:"mt-6 text-gray-700 text-lg leading-relaxed",children:s.description||"No description available for this club."})]}),o.jsxs("div",{className:"space-y-12",children:[o.jsxs("section",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:["ðŸ“… ",o.jsx("span",{className:"underline decoration-indigo-500 decoration-4 underline-offset-4",children:"Upcoming Events"})]}),r.filter(g=>new Date(g.startDate)>=new Date).length===0?o.jsx("p",{className:"text-gray-500 italic",children:"No upcoming events scheduled at the moment."}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.filter(g=>new Date(g.startDate)>=new Date).map(g=>o.jsx(Sp,{event:g},g._id))})]}),o.jsxs("section",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:["ðŸ•°ï¸ ",o.jsx("span",{className:"underline decoration-gray-400 decoration-4 underline-offset-4",children:"Past Events"})]}),r.filter(g=>new Date(g.startDate)<new Date).length===0?o.jsx("p",{className:"text-gray-500 italic",children:"No past events."}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 opacity-75 hover:opacity-100 transition-opacity",children:r.filter(g=>new Date(g.startDate)<new Date).map(g=>o.jsx(Sp,{event:g},g._id))})]})]})]}):o.jsx("div",{className:"text-center mt-20 text-red-500",children:"Club not found"})},Sp=({event:l})=>o.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow overflow-hidden flex flex-col h-full border border-gray-100",children:[o.jsxs("div",{className:"p-6 flex-grow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded uppercase tracking-wide ${l.type==="Hackathon"?"bg-purple-100 text-purple-800":l.type==="Merchandise"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:l.type}),o.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded uppercase tracking-wide ml-2 ${l.status==="Completed"?"bg-gray-200 text-gray-800":l.status==="Cancelled"?"bg-red-100 text-red-800":"bg-green-50 text-green-800"}`,children:l.status})]}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2",children:l.name}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1 mb-4",children:[o.jsxs("p",{children:["ðŸ—“ ",new Date(l.startDate).toLocaleDateString()," at ",new Date(l.startDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),o.jsxs("p",{children:["ðŸ“ ",l.location]})]}),o.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:l.description})]}),o.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-100 mt-auto",children:o.jsx(Le,{to:`/events/${l._id}`,className:"block w-full text-center bg-white border border-gray-300 text-gray-700 font-medium py-2 px-4 rounded hover:bg-gray-50 transition-colors hover:text-indigo-600 hover:border-indigo-300",children:"View Details"})})]}),mS=()=>{const{user:l,logout:s}=Ta(),i=ht(),r=()=>{s(),i("/login")};return l?o.jsxs("nav",{className:"fixed top-0 w-full z-50 glass border-b border-gray-200/20 px-6 py-3 flex justify-between items-center text-gray-800",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Le,{to:"/dashboard",className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600 hover:opacity-80 transition-opacity",children:"Felicity Fest"})}),o.jsxs("div",{className:"hidden md:flex items-center gap-6 font-medium",children:[o.jsx(Le,{to:"/events",className:"hover:text-indigo-600 transition-colors",children:"Browse Events"}),o.jsx(Le,{to:"/clubs",className:"hover:text-indigo-600 transition-colors",children:"Clubs"}),o.jsx(Le,{to:"/my-registrations",className:"hover:text-indigo-600 transition-colors",children:"My Tickets"}),l.role==="admin"&&o.jsx(Le,{to:"/admin/dashboard",className:"text-purple-600 hover:text-purple-800",children:"Admin Panel"}),l.organizerId&&o.jsx(Le,{to:"/organizer/dashboard",className:"text-purple-600 hover:text-purple-800",children:"Organizer Panel"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(Le,{to:"/profile",className:"hidden sm:flex items-center gap-2 group",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold border border-indigo-200 group-hover:bg-indigo-600 group-hover:text-white transition-colors",children:l.name?.charAt(0)}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-xs text-gray-500 group-hover:text-indigo-600",children:"Welcome"}),o.jsx("span",{className:"text-sm font-semibold text-gray-900 group-hover:text-indigo-800",children:l.name?.split(" ")[0]})]})]}),o.jsx("button",{onClick:r,className:"bg-gray-900 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-gray-800 transition-transform hover:scale-105 active:scale-95 shadow-md",children:"Logout"})]})]}):null},pS=()=>{const[l,s]=N.useState(""),[i,r]=N.useState(!1),[d,f]=N.useState(""),h=async g=>{g.preventDefault(),r(!0),f("");try{const{data:y}=await te.post(`${de}/auth/forgot-password`,{email:l});f(y.message),be.success("Reset link sent! Check developer console (mock)")}catch(y){be.error(y.response?.data?.message||"Failed to send reset link")}finally{r(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:[o.jsx(Mu,{}),o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Forgot your password?"}),o.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[o.jsx("div",{className:"rounded-md shadow-sm -space-y-px",children:o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),o.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:l,onChange:g=>s(g.target.value),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]})}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:i?"Sending...":"Send Reset Link"})}),d&&o.jsx("div",{className:"text-center text-sm text-green-600 font-medium",children:d}),o.jsx("div",{className:"text-center",children:o.jsx(Le,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Back to Login"})})]})]})]})},gS=()=>{const{token:l}=or(),s=ht(),[i,r]=N.useState(""),[d,f]=N.useState(""),[h,g]=N.useState(!1),y=async p=>{if(p.preventDefault(),i!==d){be.error("Passwords do not match");return}g(!0);try{await te.post(`${de}/auth/reset-password`,{token:l,newPassword:i}),be.success("Password reset successful! Redirecting to login..."),setTimeout(()=>{s("/login")},2e3)}catch(x){be.error(x.response?.data?.message||"Failed to reset password"),g(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:[o.jsx(Mu,{}),o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[o.jsx("div",{children:o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset Password"})}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[o.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{htmlFor:"password",className:"sr-only",children:"New Password"}),o.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:i,onChange:p=>r(p.target.value),className:"appearance-none rounded relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"New Password"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm New Password"}),o.jsx("input",{id:"confirm-password",name:"confirmPassword",type:"password",required:!0,value:d,onChange:p=>f(p.target.value),className:"appearance-none rounded relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Confirm New Password"})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:h,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:h?"Resetting...":"Set New Password"})})]})]})]})},zt=({children:l})=>localStorage.getItem("token")?l:o.jsx(Up,{to:"/login"});function yS(){return o.jsx(zb,{children:o.jsx(x1,{children:o.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 font-sans pt-20",children:[" ",o.jsx(mS,{}),o.jsxs(cb,{children:[o.jsx(Ke,{path:"/login",element:o.jsx(b1,{})}),o.jsx(Ke,{path:"/signup",element:o.jsx(v1,{})}),o.jsx(Ke,{path:"/forgot-password",element:o.jsx(pS,{})}),o.jsx(Ke,{path:"/reset-password/:token",element:o.jsx(gS,{})}),o.jsx(Ke,{path:"/reset-request",element:o.jsx(TN,{})}),o.jsx(Ke,{path:"/onboarding",element:o.jsx(zt,{children:o.jsx(RN,{})})}),o.jsx(Ke,{path:"/profile",element:o.jsx(zt,{children:o.jsx(dS,{})})}),o.jsx(Ke,{path:"/clubs",element:o.jsx(zt,{children:o.jsx(fS,{})})}),o.jsx(Ke,{path:"/clubs/:id",element:o.jsx(zt,{children:o.jsx(hS,{})})}),o.jsx(Ke,{path:"/",element:o.jsx(Up,{to:"/dashboard"})}),o.jsx(Ke,{path:"/dashboard",element:o.jsx(zt,{children:o.jsx(N1,{})})}),o.jsx(Ke,{path:"/admin/dashboard",element:o.jsx(zt,{children:o.jsx(S1,{})})}),o.jsx(Ke,{path:"/organizer/dashboard",element:o.jsx(zt,{children:o.jsx(j1,{})})}),o.jsx(Ke,{path:"/organizer/events/create",element:o.jsx(zt,{children:o.jsx(w1,{})})}),o.jsx(Ke,{path:"/organizer/events/edit/:id",element:o.jsx(zt,{children:o.jsx(AN,{})})}),o.jsx(Ke,{path:"/organizer/scanner",element:o.jsx(zt,{children:o.jsx(CN,{})})}),o.jsx(Ke,{path:"/events",element:o.jsx(zt,{children:o.jsx(_1,{})})}),o.jsx(Ke,{path:"/events/:id",element:o.jsx(zt,{children:o.jsx(_N,{})})}),o.jsx(Ke,{path:"/my-registrations",element:o.jsx(zt,{children:o.jsx(EN,{})})}),o.jsx(Ke,{path:"*",element:o.jsx("div",{className:"p-10 text-center",children:o.jsx("h1",{children:"404 - Page Not Found"})})})]})]})})})}fx.createRoot(document.getElementById("root")).render(o.jsx(N.StrictMode,{children:o.jsx(yS,{})}));
./frontend/src/components/MerchandiseBuilder.jsx:                                <label className="block text-xs font-semibold text-gray-500 uppercase mb-1">Price (â‚¹)</label>
./frontend/src/components/FeedbackForm.jsx:                                <span className="text-yellow-500 font-bold mr-2">{'â˜…'.repeat(rev.rating)}</span>
./frontend/src/pages/MyRegistrations.jsx:                        <div className="text-4xl mb-4">ðŸ“­</div>
./frontend/src/pages/MyRegistrations.jsx:                                                <span className="font-semibold block text-xs text-indigo-500 uppercase">Ticket ID ðŸ“‹</span>
./frontend/src/pages/MyRegistrations.jsx:                                            Rate Event â­
./frontend/src/pages/MyRegistrations.jsx:                                            â˜…
./frontend/src/pages/organizer/EventCreate.jsx:                                <label className="block text-sm font-medium text-gray-700">Registration Fee (â‚¹)</label>
./frontend/src/pages/organizer/OrganizerDashboard.jsx:                                        <span className="font-semibold text-gray-700">{event.currentRegistrations} / {event.registrationLimit > 0 ? event.registrationLimit : 'âˆž'}</span>
./frontend/src/pages/organizer/OrganizerDashboard.jsx:                                    <span className="text-4xl mb-2">ðŸ“­</span>
./frontend/src/pages/organizer/OrganizerDashboard.jsx:                                                            <span>ðŸ“Ž View Payment Proof</span>
./frontend/src/pages/organizer/OrganizerDashboard.jsx:                                                    <span key={i}>{i < Math.round(Number(feedbackModal.stats.averageRating)) ? 'â˜…' : 'â˜†'}</span>
./frontend/src/pages/organizer/OrganizerDashboard.jsx:                                                        <span className="text-yellow-400">â˜…</span>
./frontend/src/pages/organizer/OrganizerDashboard.jsx:                                                                {[...Array(comment.rating)].map((_, i) => <span key={i}>â˜…</span>)}
./frontend/src/pages/organizer/EventEdit.jsx:                                <label className="block text-sm font-medium text-gray-700">Registration Fee (â‚¹)</label>
./frontend/src/pages/Onboarding.jsx:                        <h1 className="text-3xl font-bold text-gray-900 mb-2">Welcome to Felicity! ðŸŽ‰</h1>
./frontend/src/pages/Onboarding.jsx:                            <span className="mr-2">ðŸŽ¯</span> Areas of Interest
./frontend/src/pages/Onboarding.jsx:                            <span className="mr-2">ðŸ›ï¸</span> Follow Clubs & Organizers
./frontend/src/pages/Onboarding.jsx:                            Continue to Dashboard â†’
./frontend/src/pages/Onboarding.jsx:                                âœ¨ You've selected <strong>{selectedInterests.length}</strong> interest(s) and
./frontend/src/pages/ClubDetails.jsx:                            <span>ðŸ“§</span> {club.contactEmail}
./frontend/src/pages/ClubDetails.jsx:                        ðŸ“… <span className="underline decoration-indigo-500 decoration-4 underline-offset-4">Upcoming Events</span>
./frontend/src/pages/ClubDetails.jsx:                        ðŸ•°ï¸ <span className="underline decoration-gray-400 decoration-4 underline-offset-4">Past Events</span>
./frontend/src/pages/ClubDetails.jsx:                <p>ðŸ—“ {new Date(event.startDate).toLocaleDateString()} at {new Date(event.startDate).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</p>
./frontend/src/pages/ClubDetails.jsx:                <p>ðŸ“ {event.location}</p>
./frontend/src/pages/Clubs.jsx:                                <span className="text-2xl opacity-50">ðŸ¢</span>
./frontend/src/pages/Clubs.jsx:                                <span className="mr-2">ðŸ“§</span> {club.contactEmail}
./frontend/src/pages/AdminDashboard.jsx:        if (!window.confirm("âš ï¸ DANGER: This will DELETE ALL DATA (Users, Events, Registrations) except your Admin account. \n\nIt will restore default clubs and create 'Rachit Mehta'. \n\nAre you sure?")) return;
./frontend/src/pages/AdminDashboard.jsx:                                âš  Reset DB
./frontend/src/pages/EventDetails.jsx:                            <span className="font-bold">Fee:</span> {event.registrationFee === 0 ? 'Free' : `â‚¹${event.registrationFee}`}
./frontend/src/pages/EventDetails.jsx:                                                            {isSelected && <div className="text-indigo-600 font-bold">âœ“</div>}
./frontend/src/pages/EventDetails.jsx:                                                        <div className="text-indigo-600 font-bold">â‚¹{item.price}</div>
./frontend/src/pages/EventDetails.jsx:                                            <span className="font-bold text-xl text-indigo-600">â‚¹{totalMerchCost}</span>
./frontend/src/pages/EventDetails.jsx:                                            `Purchase Items (Total: â‚¹${totalMerchCost})` :
./frontend/src/pages/EventDetails.jsx:                                            `Confirm Registration ${totalMerchCost > 0 ? `(+ â‚¹${totalMerchCost} Merch)` : ''} ${event.registrationFee > 0 ? `(Fee: â‚¹${event.registrationFee})` : ''}`
./frontend/src/pages/EventDetails.jsx:                            <div className="text-5xl mb-4 text-green-600">âœ“</div>
./frontend/src/pages/BrowseEvents.jsx:                        <span className="text-orange-500">ðŸ”¥</span> Trending Now
./frontend/src/pages/BrowseEvents.jsx:                        <span className="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400">ðŸ”</span>
./frontend/src/pages/BrowseEvents.jsx:                        <span>âœ¨</span> For You
./frontend/src/pages/BrowseEvents.jsx:                            <span>â¤ï¸</span> Following
./frontend/src/pages/BrowseEvents.jsx:                                        <span>Fee: {event.registrationFee === 0 ? 'Free' : `â‚¹${event.registrationFee}`}</span>
./frontend/build_output.txt:âœ“ 150 modules transformed.
./backend/controllers/eventController.js:            sendDiscordNotification(`ðŸ“¢ New Event Published: **${name}** by ${organizer.name}! Check it out now.`);
./backend/controllers/registrationController.js:                <p><strong>Total Amount:</strong> â‚¹${totalCost}</p>
./backend/controllers/registrationController.js:                    message: `Please complete payment for ${event.name}. Amount: â‚¹${totalCost}`,
./backend/utils/sendEmail.js:        console.log('âš ï¸  Email credentials not found in .env. Skipping email sending.');
./backend/utils/sendEmail.js:        console.log('ðŸ“§  Would have sent email to:', options.email);
./backend/utils/sendEmail.js:        console.log('ðŸ“  Subject:', options.subject);
./backend/seeder.js:        console.log('âœ… Seeding Complete!');
./backend/seeder.js:        console.error(`âŒ Error: ${error.message}`);
./USER_GUIDE.md:## ðŸš€ Installation & Setup
./USER_GUIDE.md:## ðŸ§ª Automated Testing
./USER_GUIDE.md:## ðŸ–¥ï¸ Manual Walkthrough (GUI)
./USER_GUIDE.md:## ðŸ› ï¸ Troubleshooting
./USER_GUIDE.md:## ðŸš€ Deployment Guide (Render & Vercel)
./to-do.md:## ðŸ” AUTHENTICATION & ROLE MANAGEMENT
./to-do.md:## ðŸ‘¤ PARTICIPANT ONBOARDING & PROFILE MANAGEMENT
./to-do.md:## ðŸ—‚ DATA MODELS
./to-do.md:## ðŸŽŸ EVENT SYSTEM CORE
./to-do.md:## ðŸ›  DYNAMIC EVENT CONFIGURATION
./to-do.md:## ðŸ‘¥ PARTICIPANT FEATURES
./to-do.md:## ðŸ§‘ðŸ’¼ ORGANIZER FEATURES
./to-do.md:## ðŸ›  ADMIN FEATURES
./to-do.md:## ðŸš€ DEPLOYMENT & PRODUCTION
./to-do.md:## ðŸ”¥ ADVANCED FEATURES (PART 2)
./to-do.md:### ðŸ…° Tier A
./to-do.md:### ðŸ…± Tier B
./to-do.md:### ðŸ…² Tier C
./tests/filtering_test.js:        console.log("âœ… Test Events Created");
./tests/filtering_test.js:            console.log("âœ… Search Verified");
./tests/filtering_test.js:            console.error("âŒ Search Failed");
./tests/filtering_test.js:            console.log("âœ… Type Filter Verified");
./tests/filtering_test.js:            console.error("âŒ Type Filter Failed");
./tests/filtering_test.js:        console.error("âŒ Test Failed:", error.response?.data || error.message);
./tests/auth_test.js:        console.log("âœ… Registration Successful:", regRes.data.email);
./tests/auth_test.js:        console.log("âœ… Login Successful:", loginRes.data.email);
./tests/auth_test.js:            console.error("âŒ Invalid Login Check Failed (Should have errored)");
./tests/auth_test.js:                console.log("âœ… Invalid Login correctly rejected (401)");
./tests/auth_test.js:                console.error("âŒ Unexpected error:", error.message);
./tests/auth_test.js:        console.error("âŒ Test Failed:", error.response ? error.response.data : error.message);
./tests/recommendation_test.js:        console.log("âœ… Events Created & Published");
./tests/recommendation_test.js:        console.log("âœ… Participant Preferences Set");
./tests/recommendation_test.js:            console.log("âœ… Recommendation Logic Verified (Interest Match)");
./tests/recommendation_test.js:            console.error("âŒ Recommendation Failed");
./tests/recommendation_test.js:            console.log("âœ… Recommendation Logic Verified (Follow Match)");
./tests/recommendation_test.js:            console.error("âŒ Follow Logic Failed");
./tests/recommendation_test.js:        console.error("âŒ Test Failed:", error.response?.data || error.message);
./tests/form_lock_test.js:        console.log("âœ… Event Created");
./tests/form_lock_test.js:        console.log("âœ… Form Updated (Pre-Registration)");
./tests/form_lock_test.js:        console.log("âœ… Participant Registered");
./tests/form_lock_test.js:            console.error("âŒ Form Update Succeeded (Should have failed!)");
./tests/form_lock_test.js:                console.log("âœ… Form Update Rejected: " + error.response.data.message);
./tests/form_lock_test.js:                console.error("âŒ Unexpected Error:", error.message);
./tests/form_lock_test.js:            console.log("âœ… Name Update Succeeded");
./tests/form_lock_test.js:            console.error("âŒ Name Update Failed");
./tests/form_lock_test.js:        console.error("âŒ Test Failed:", error.response?.data || error.message);
./tests/profile_test.js:        console.log("âœ… Registered");
./tests/profile_test.js:            console.log("âœ… Profile Update Verified");
./tests/profile_test.js:            console.error("âŒ Profile Update Failed: Data mismatch");
./tests/profile_test.js:            console.log("âœ… Partial Update Verified");
./tests/profile_test.js:            console.error("âŒ Partial Update Failed");
./tests/profile_test.js:        console.error("âŒ Test Failed:", error.response?.data || error.message);
./tests/merch_workflow_test.js:        console.log("âœ… Merchandise Event Created");
./tests/merch_workflow_test.js:            console.log("âœ… Registration Status: Pending (Expected)");
./tests/merch_workflow_test.js:            console.error("âŒ Unexpected Status:", purchaseRes.data.status);
./tests/merch_workflow_test.js:        console.log("âœ… Payment Proof Uploaded");
./tests/merch_workflow_test.js:            console.log("âœ… Registration Confirmed & Ticket Generated");
./tests/merch_workflow_test.js:            console.error("âŒ Approval Failed");
./tests/merch_workflow_test.js:            console.log("âœ… Verification Successful");
./tests/merch_workflow_test.js:            console.error("âŒ Final Status Mismatch");
./tests/merch_workflow_test.js:        console.error("âŒ Test Failed:", error.response?.data || error.message);
./tests/feedback_test.js:        console.log("âœ… User Confirmed/Attended");
./tests/feedback_test.js:        console.log("âœ… Feedback Submitted");
./tests/feedback_test.js:            console.log("âœ… Feedback Retrieved Successfully");
./tests/feedback_test.js:            console.error("âŒ Feedback Not Found in Response");
./tests/feedback_test.js:            console.error("âŒ Should have failed!");
./tests/feedback_test.js:            console.log(`âœ… Expected Error: ${e.response?.data?.message}`);
./tests/feedback_test.js:        console.error("âŒ Test Failed:", error.response?.data || error.message);
./tests/registration_test.js:        console.log(`âœ… Organization created event: ${eventRes.data.name}`);
./tests/registration_test.js:        console.log(`âœ… Event Published`);
./tests/registration_test.js:        console.log("âœ… Participant Login Successful");
./tests/registration_test.js:        console.log(`âœ… Found event in list: ${foundEvent.name}`);
./tests/registration_test.js:        console.log("âœ… Registration Successful. Status:", regRes.data.status);
./tests/registration_test.js:            console.log("âœ… Verification Confirmed: User is registered.");
./tests/registration_test.js:            console.error("âŒ Verification Failed: API says not registered.");
./tests/registration_test.js:        console.log("âœ… Event Deleted");
./tests/registration_test.js:        console.error("âŒ Test Failed:", error.response ? error.response.data : error.message);
./tests/onboarding_test.js:        console.log("âœ… Registered");
./tests/onboarding_test.js:        console.log(`âœ… Found ${clubs.length} clubs`);
./tests/onboarding_test.js:        console.log("âœ… Preferences Updated");
./tests/onboarding_test.js:            console.error("âŒ Login response missing interests/following fields!");
./tests/onboarding_test.js:            console.log("âœ… Verification Successful: Preferences persisted and returned on login.");
./tests/onboarding_test.js:            console.error("âŒ Preferences mismatch!");
./tests/onboarding_test.js:        console.error("âŒ Test Failed:", error.response?.data || error.message);
./tests/analytics_test.js:        console.log("âœ… Participant Registered");
./tests/analytics_test.js:            console.log("âœ… Analytics Verified (Pending)");
./tests/analytics_test.js:            console.error("âŒ Analytics Mismatch");
./tests/analytics_test.js:        console.error("âŒ Test Failed:", error.response?.data || error.message);
./tests/event_crud_test.js:        console.log("âœ… Organizer Login Successful:", loginRes.data.name);
./tests/event_crud_test.js:        console.log("âœ… Event Created:", createRes.data.name);
./tests/event_crud_test.js:        console.log(`âœ… Fetched ${myEventsRes.data.length} events for this organizer`);
./tests/event_crud_test.js:        console.log("âœ… Event Updated:", updateRes.data.name);
./tests/event_crud_test.js:        console.log("âœ… Event Deleted");
./tests/event_crud_test.js:        console.error("âŒ Test Failed:", error.response ? error.response.data : error.message);
./tests/forgot_password_test.js:        console.log("âœ… Registered with password: oldpassword");
./tests/forgot_password_test.js:        console.log("âœ… Request Sent");
./tests/forgot_password_test.js:        console.log("âœ… Password Reset Successful");
./tests/forgot_password_test.js:            console.log("âœ… Login Verified with NEW password!");
./tests/forgot_password_test.js:            console.error("âŒ Old Password still works!");
./tests/forgot_password_test.js:            console.log("âœ… Old Password correctly rejected");
./tests/forgot_password_test.js:        console.error("âŒ Test Failed:", error.response?.data || error.message);
./tests/club_details_test.js:        console.log(`âœ… Found Club ID: ${clubId}`);
./tests/club_details_test.js:            console.log(`âœ… Club Details Verified: ${detailRes.data.name}`);
./tests/club_details_test.js:            console.error("âŒ Club Details Mismatch");
./tests/club_details_test.js:        console.error("âŒ Test Failed:", error.response?.data || error.message);
./tests/discord_test.js:        console.log("âœ… Event Created - Check Server Logs for 'Discord notification sent' or 'Skipping'");
./tests/discord_test.js:        console.error("âŒ Test Failed:", error.response?.data || error.message);
./tests/team_test.js:        console.log(`âœ… Team Created! Code: ${inviteCode}`);
./tests/team_test.js:        console.log("âœ… Bob Joined!");
./tests/team_test.js:            console.error("âŒ Charlie Joined but should have failed!");
./tests/team_test.js:            console.log(`âœ… Expected Error: ${e.response?.data?.message}`);
./tests/team_test.js:        if (members.length === 2) console.log("âœ… Member Count Correct");
./tests/team_test.js:        else console.error("âŒ Incorrect Member Count");
./tests/team_test.js:        if (getTeamAfterRes.data.members.length === 1) console.log("âœ… Bob Left Successfully");
./tests/team_test.js:        else console.error("âŒ Bob still in team");
./tests/team_test.js:        console.error("âŒ Test Failed:", error.response?.data || error.message);
./tests/eligibility_test.js:        console.log("âœ… IIIT-Only Event Created");
./tests/eligibility_test.js:            console.error("âŒ Registration Succeeded (Should have failed!)");
./tests/eligibility_test.js:                console.log("âœ… Registration Correctly Rejected: " + error.response.data.message);
./tests/eligibility_test.js:                console.error("âŒ Unexpected Error:", error.message);
./tests/eligibility_test.js:        console.log("âœ… Registration Succeeded");
./tests/eligibility_test.js:        console.error("âŒ Test Failed:", error.response?.data || error.message);
./tests/admin_test.js:        console.log("âœ… Admin Login Successful");
./tests/admin_test.js:        console.log(`âœ… Fetched ${clubsRes.data.length} clubs`);
./tests/admin_test.js:        console.log("âœ… Club Added:", addRes.data.name);
./tests/admin_test.js:            console.log("âœ… Club Deleted");
./tests/admin_test.js:            console.error("âŒ Skipping delete, no club ID");
./tests/admin_test.js:        console.error("âŒ Test Failed:", error.response ? error.response.data : error.message);
./tests/calendar_test.js:            console.log("âœ… ICS File Generated Successfully");
./tests/calendar_test.js:            console.error("âŒ Invalid ICS Content");
./tests/calendar_test.js:        console.error("âŒ Test Failed:", error.response?.data || error.message);
./tests/attendance_test.js:        console.log(`âœ… Registration Successful. Ticket ID: ${ticketId}`);
./tests/attendance_test.js:        console.log(`âœ… Scan Result: ${scanRes.data.message}`);
./tests/attendance_test.js:            console.error("âŒ Should have failed!");
./tests/attendance_test.js:            console.log(`âœ… Expected Error: ${e.response?.data?.error || e.response?.data?.message}`);
./tests/attendance_test.js:        console.error("âŒ Test Failed:", error.response?.data || error.message);
./tests/chat_test.js:        console.log("âœ… Sockets Connected");
./tests/chat_test.js:                    console.log("âœ… Bob Received Message:", data.content);
./tests/chat_test.js:            console.log("âœ… Message Persisted in DB");
./tests/chat_test.js:            console.error("âŒ Message NOT found in DB");
./tests/chat_test.js:        console.error("âŒ Test Failed:", error.message);
./tests/org_profile_test.js:            console.log("âœ… Profile Update Verified");
./tests/org_profile_test.js:            console.error("âŒ Profile Update Failed");
./tests/org_profile_test.js:        console.error("âŒ Test Failed:", error.response?.data || error.message);
./tests/verify_participant_features.js:        console.log('ðŸš€ Starting Verification Test...');
./tests/verify_participant_features.js:            console.log('âœ… Music Club Logged In');
./tests/verify_participant_features.js:            console.log('âš ï¸  Music Club login failed. Trying to create Organizer via Admin...');
./tests/verify_participant_features.js:                console.log('âœ… Admin Logged In');
./tests/verify_participant_features.js:                console.log('âœ… Organizer Created:', orgRes.data.message);
./tests/verify_participant_features.js:                console.log('âœ… New Organizer Logged In');
./tests/verify_participant_features.js:                console.error('âŒ Admin/Organizer Setup Failed:', adminError.message);
./tests/verify_participant_features.js:        console.log('âœ… Event Created:', eventRes.data.name);
./tests/verify_participant_features.js:        console.log('âœ… User Logged In');
./tests/verify_participant_features.js:        console.log('âœ… Registration Successful. Status:', regRes.data.status);
./tests/verify_participant_features.js:            console.log('âœ… SUCCESS: Event found in /trending endpoint!');
./tests/verify_participant_features.js:            console.log('âš ï¸  Event NOT found in trending. (Might need more data or aggregation delay)');
./tests/verify_participant_features.js:        console.error('âŒ Test Failed:', error.message);
./tests/password_reset_test.js:        console.log("âœ… Admin Logged in");
./tests/password_reset_test.js:        console.log("âœ… Request Submitted");
./tests/password_reset_test.js:        console.log(`âœ… Found Request ID: ${requestId}`);
./tests/password_reset_test.js:        console.log("âœ… Request Approved");
./tests/password_reset_test.js:            console.log("âœ… Login Successful with New Password!");
./tests/password_reset_test.js:        console.error("âŒ Test Failed:", error.response?.data || error.message);
./tests/my_registrations_test.js:        console.log("âœ… Logged in");
./tests/my_registrations_test.js:        console.log("âœ… Registered");
./tests/my_registrations_test.js:            console.log(`âœ… Found Registration!`);
./tests/my_registrations_test.js:            console.error("âŒ Registration NOT found in 'My Registrations' list!");
./tests/my_registrations_test.js:        console.error("âŒ Test Failed:", error.response?.data || error.message);
